This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.github/
  workflows/
    ci.yml
public/
  bulletins/
    2025-12-13.pdf
    2025-12-20.pdf
  favicon.svg
src/
  assets/
    astro.svg
    background.svg
  components/
    content/
      ContentCard.astro
    media/
      YouTubeEmbed.astro
    ui/
      Banner.astro
      Button.astro
      ButtonLink.astro
      Card.astro
      CardGrid.astro
      Hero.astro
      Schedule.astro
    Footer.astro
    Header.astro
    PlaceholderPage.astro
    Welcome.astro
  content/
    bulletins/
      2025-12-13.md
      2025-12-20.md
    events/
      sabbath-service.md
    ministries/
      children.md
    resources/
      2025/
        12/
          16/
            welcome-packet.md
  data/
    site-links.json
    site.ts
    videos.json
    week-schedule.json
  layouts/
    BaseLayout.astro
    Layout.astro
  pages/
    connect/
      about/
        index.astro
      contact/
        index.astro
      plan-a-visit/
        index.astro
      prayer/
        index.astro
      worship-with-us/
        index.astro
      index.astro
    events/
      [id].astro
      index.astro
    give/
      index.astro
    join/
      index.astro
    media/
      live/
        index.astro
      videos/
        index.astro
      index.astro
    ministries/
      [id].astro
      index.astro
    privacy/
      index.astro
    resources/
      bulletins/
        index.astro
      forms/
        index.astro
      [...id].astro
      index.astro
    search/
      index.astro
    serve/
      index.astro
    404.astro
    index.astro
  styles/
    global.css
    tokens.css
  content.config.ts
test-results/
  tests-e2e-phase-6-search-a-7d627-s-results-for-a-common-term/
    error-context.md
  tests-e2e-phase-6-search-and-analytics-Search-page-loads/
    error-context.md
  .last-run.json
tests/
  e2e/
    content-collections.spec.ts
    phase-5-media-portals.spec.ts
    phase-6-search-and-analytics.spec.ts
.env.example
.gitignore
astro.config.mjs
package.json
playwright.config.ts
README.md
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".github/workflows/ci.yml">
name: CI

on:
  pull_request:
    branches: [main]
  push:
    branches: [main]

jobs:
  web:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: web

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: npm
          cache-dependency-path: web/package-lock.json

      - name: Install
        run: npm ci

      - name: Build
        run: npm run build

      - name: Type check
        run: npm run check
</file>

<file path="public/favicon.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 128 128">
    <path d="M50.4 78.5a75.1 75.1 0 0 0-28.5 6.9l24.2-65.7c.7-2 1.9-3.2 3.4-3.2h29c1.5 0 2.7 1.2 3.4 3.2l24.2 65.7s-11.6-7-28.5-7L67 45.5c-.4-1.7-1.6-2.8-2.9-2.8-1.3 0-2.5 1.1-2.9 2.7L50.4 78.5Zm-1.1 28.2Zm-4.2-20.2c-2 6.6-.6 15.8 4.2 20.2a17.5 17.5 0 0 1 .2-.7 5.5 5.5 0 0 1 5.7-4.5c2.8.1 4.3 1.5 4.7 4.7.2 1.1.2 2.3.2 3.5v.4c0 2.7.7 5.2 2.2 7.4a13 13 0 0 0 5.7 4.9v-.3l-.2-.3c-1.8-5.6-.5-9.5 4.4-12.8l1.5-1a73 73 0 0 0 3.2-2.2 16 16 0 0 0 6.8-11.4c.3-2 .1-4-.6-6l-.8.6-1.6 1a37 37 0 0 1-22.4 2.7c-5-.7-9.7-2-13.2-6.2Z" />
    <style>
        path { fill: #000; }
        @media (prefers-color-scheme: dark) {
            path { fill: #FFF; }
        }
    </style>
</svg>
</file>

<file path="src/assets/astro.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="115" height="48"><path fill="#17191E" d="M7.77 36.35C6.4 35.11 6 32.51 6.57 30.62c.99 1.2 2.35 1.57 3.75 1.78 2.18.33 4.31.2 6.33-.78.23-.12.44-.27.7-.42.18.55.23 1.1.17 1.67a4.56 4.56 0 0 1-1.94 3.23c-.43.32-.9.61-1.34.91-1.38.94-1.76 2.03-1.24 3.62l.05.17a3.63 3.63 0 0 1-1.6-1.38 3.87 3.87 0 0 1-.63-2.1c0-.37 0-.74-.05-1.1-.13-.9-.55-1.3-1.33-1.32a1.56 1.56 0 0 0-1.63 1.26c0 .06-.03.12-.05.2Z"/><path fill="url(#a)" d="M7.77 36.35C6.4 35.11 6 32.51 6.57 30.62c.99 1.2 2.35 1.57 3.75 1.78 2.18.33 4.31.2 6.33-.78.23-.12.44-.27.7-.42.18.55.23 1.1.17 1.67a4.56 4.56 0 0 1-1.94 3.23c-.43.32-.9.61-1.34.91-1.38.94-1.76 2.03-1.24 3.62l.05.17a3.63 3.63 0 0 1-1.6-1.38 3.87 3.87 0 0 1-.63-2.1c0-.37 0-.74-.05-1.1-.13-.9-.55-1.3-1.33-1.32a1.56 1.56 0 0 0-1.63 1.26c0 .06-.03.12-.05.2Z"/><path fill="#17191E" d="M.02 30.31s4.02-1.95 8.05-1.95l3.04-9.4c.11-.45.44-.76.82-.76.37 0 .7.31.82.76l3.04 9.4c4.77 0 8.05 1.95 8.05 1.95L17 11.71c-.2-.56-.53-.91-.98-.91H7.83c-.44 0-.76.35-.97.9L.02 30.31Zm42.37-5.97c0 1.64-2.05 2.62-4.88 2.62-1.85 0-2.5-.45-2.5-1.41 0-1 .8-1.49 2.65-1.49 1.67 0 3.09.03 4.73.23v.05Zm.03-2.04a21.37 21.37 0 0 0-4.37-.36c-5.32 0-7.82 1.25-7.82 4.18 0 3.04 1.71 4.2 5.68 4.2 3.35 0 5.63-.84 6.46-2.92h.14c-.03.5-.05 1-.05 1.4 0 1.07.18 1.16 1.06 1.16h4.15a16.9 16.9 0 0 1-.36-4c0-1.67.06-2.93.06-4.62 0-3.45-2.07-5.64-8.56-5.64-2.8 0-5.9.48-8.26 1.19.22.93.54 2.83.7 4.06 2.04-.96 4.95-1.37 7.2-1.37 3.11 0 3.97.71 3.97 2.15v.57Zm11.37 3c-.56.07-1.33.07-2.12.07-.83 0-1.6-.03-2.12-.1l-.02.58c0 2.85 1.87 4.52 8.45 4.52 6.2 0 8.2-1.64 8.2-4.55 0-2.74-1.33-4.09-7.2-4.39-4.58-.2-4.99-.7-4.99-1.28 0-.66.59-1 3.65-1 3.18 0 4.03.43 4.03 1.35v.2a46.13 46.13 0 0 1 4.24.03l.02-.55c0-3.36-2.8-4.46-8.2-4.46-6.08 0-8.13 1.49-8.13 4.39 0 2.6 1.64 4.23 7.48 4.48 4.3.14 4.77.62 4.77 1.28 0 .7-.7 1.03-3.71 1.03-3.47 0-4.35-.48-4.35-1.47v-.13Zm19.82-12.05a17.5 17.5 0 0 1-6.24 3.48c.03.84.03 2.4.03 3.24l1.5.02c-.02 1.63-.04 3.6-.04 4.9 0 3.04 1.6 5.32 6.58 5.32 2.1 0 3.5-.23 5.23-.6a43.77 43.77 0 0 1-.46-4.13c-1.03.34-2.34.53-3.78.53-2 0-2.82-.55-2.82-2.13 0-1.37 0-2.65.03-3.84 2.57.02 5.13.07 6.64.11-.02-1.18.03-2.9.1-4.04-2.2.04-4.65.07-6.68.07l.07-2.93h-.16Zm13.46 6.04a767.33 767.33 0 0 1 .07-3.18H82.6c.07 1.96.07 3.98.07 6.92 0 2.95-.03 4.99-.07 6.93h5.18c-.09-1.37-.11-3.68-.11-5.65 0-3.1 1.26-4 4.12-4 1.33 0 2.28.16 3.1.46.03-1.16.26-3.43.4-4.43-.86-.25-1.81-.41-2.96-.41-2.46-.03-4.26.98-5.1 3.38l-.17-.02Zm22.55 3.65c0 2.5-1.8 3.66-4.64 3.66-2.81 0-4.61-1.1-4.61-3.66s1.82-3.52 4.61-3.52c2.82 0 4.64 1.03 4.64 3.52Zm4.71-.11c0-4.96-3.87-7.18-9.35-7.18-5.5 0-9.23 2.22-9.23 7.18 0 4.94 3.49 7.59 9.21 7.59 5.77 0 9.37-2.65 9.37-7.6Z"/><defs><linearGradient id="a" x1="6.33" x2="19.43" y1="40.8" y2="34.6" gradientUnits="userSpaceOnUse"><stop stop-color="#D83333"/><stop offset="1" stop-color="#F041FF"/></linearGradient></defs></svg>
</file>

<file path="src/assets/background.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="1440" height="1024" fill="none"><path fill="url(#a)" fill-rule="evenodd" d="M-217.58 475.75c91.82-72.02 225.52-29.38 341.2-44.74C240 415.56 372.33 315.14 466.77 384.9c102.9 76.02 44.74 246.76 90.31 366.31 29.83 78.24 90.48 136.14 129.48 210.23 57.92 109.99 169.67 208.23 155.9 331.77-13.52 121.26-103.42 264.33-224.23 281.37-141.96 20.03-232.72-220.96-374.06-196.99-151.7 25.73-172.68 330.24-325.85 315.72-128.6-12.2-110.9-230.73-128.15-358.76-12.16-90.14 65.87-176.25 44.1-264.57-26.42-107.2-167.12-163.46-176.72-273.45-10.15-116.29 33.01-248.75 124.87-320.79Z" clip-rule="evenodd" style="opacity:.154"/><path fill="url(#b)" fill-rule="evenodd" d="M1103.43 115.43c146.42-19.45 275.33-155.84 413.5-103.59 188.09 71.13 409 212.64 407.06 413.88-1.94 201.25-259.28 278.6-414.96 405.96-130 106.35-240.24 294.39-405.6 265.3-163.7-28.8-161.93-274.12-284.34-386.66-134.95-124.06-436-101.46-445.82-284.6-9.68-180.38 247.41-246.3 413.54-316.9 101.01-42.93 207.83 21.06 316.62 6.61Z" clip-rule="evenodd" style="opacity:.154"/><defs><linearGradient id="b" x1="373" x2="1995.44" y1="1100" y2="118.03" gradientUnits="userSpaceOnUse"><stop stop-color="#D83333"/><stop offset="1" stop-color="#F041FF"/></linearGradient><linearGradient id="a" x1="107.37" x2="1130.66" y1="1993.35" y2="1026.31" gradientUnits="userSpaceOnUse"><stop stop-color="#3245FF"/><stop offset="1" stop-color="#BC52EE"/></linearGradient></defs></svg>
</file>

<file path="src/components/content/ContentCard.astro">
---
export interface Props {
  href: string;
  title: string;
  summary: string;
  meta?: string;
  tags?: string[];
}

const { href, title, summary, meta, tags } = Astro.props;
const safeTags = tags ?? [];
---

<article class="card">
  {meta && <p class="muted" style="margin: 0; font-size: 0.95rem;">{meta}</p>}
  <h3 style="margin: 0.25rem 0;">
    <a href={href} class="link">{title}</a>
  </h3>
  <p class="muted" style="margin: 0.25rem 0 0;">{summary}</p>

  {safeTags.length > 0 && (
    <ul class="tags" aria-label="Tags">
      {safeTags.map((t) => (
        <li class="tag">{t}</li>
      ))}
    </ul>
  )}
</article>

<style>
  .tags {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0;
    margin: 0.75rem 0 0;
  }
  .tag {
    font-size: 0.85rem;
    padding: 0.2rem 0.55rem;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: color-mix(in oklab, var(--surface) 90%, white 10%);
  }
</style>
</file>

<file path="src/components/media/YouTubeEmbed.astro">
---
type Props = {
  title: string;
  /** Full YouTube embed URL, e.g. https://www.youtube.com/embed/VIDEO_ID */
  embedUrl: string;
};

const { title, embedUrl } = Astro.props;
---

<div class="yt" aria-label={title}>
  <iframe
    class="yt__frame"
    src={embedUrl}
    title={title}
    loading="lazy"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen
  ></iframe>
</div>

<style>
  .yt {
    position: relative;
    width: 100%;
    border-radius: var(--radius-3);
    overflow: hidden;
    border: 1px solid var(--color-border);
    background: var(--color-gray-50);
  }

  /* 16:9 */
  .yt::before {
    content: "";
    display: block;
    padding-top: 56.25%;
  }

  .yt__frame {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: 0;
  }
</style>
</file>

<file path="src/components/ui/Banner.astro">
---
import Button from "./Button.astro";

type Props = {
  message: string;
  ctaLabel?: string;
  ctaHref?: string;
};

const { message, ctaLabel, ctaHref } = Astro.props;
---

<section class="banner" role="status">
  <div class="banner__inner">
    <div class="banner__msg">{message}</div>
    {ctaLabel && ctaHref ? (
      <Button href={ctaHref} variant="ghost" size="sm">{ctaLabel}</Button>
    ) : null}
  </div>
</section>

<style>
  .banner {
    border: 1px solid var(--color-border);
    border-radius: var(--radius-3);
    padding: var(--space-3) var(--space-4);
    background: var(--color-gray-50);
  }

  .banner__inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    flex-wrap: wrap;
  }

  .banner__msg {
    font-weight: 700;
  }
</style>
</file>

<file path="src/components/ui/Button.astro">
---
type Props = {
  href?: string;
  external?: boolean;
  variant?: "primary" | "secondary" | "ghost";
  size?: "sm" | "md" | "lg";
};

const {
  href,
  external = false,
  variant = "primary",
  size = "md"
} = Astro.props;

const className = `btn btn--${variant} btn--${size}`;
---

{href ? (
  <a
    class={className}
    href={href}
    target={external ? "_blank" : undefined}
    rel={external ? "noopener noreferrer" : undefined}
  >
    <slot />
  </a>
) : (
  <button class={className} type="button">
    <slot />
  </button>
)}

<style>
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    border-radius: var(--radius-2);
    text-decoration: none;
    font-weight: 700;
    border: 1px solid transparent;
    cursor: pointer;
  }

  .btn--sm {
    font-size: var(--font-size-0);
    padding: var(--space-2) var(--space-3);
  }

  .btn--md {
    font-size: var(--font-size-1);
    padding: var(--space-2) var(--space-4);
  }

  .btn--lg {
    font-size: var(--font-size-2);
    padding: var(--space-3) var(--space-6);
  }

  .btn--primary {
    background: var(--color-primary);
    color: var(--color-white);
  }

  .btn--primary:hover {
    background: var(--color-primary-hover);
  }

  .btn--secondary {
    background: var(--color-gray-50);
    border-color: var(--color-border);
  }

  .btn--secondary:hover {
    background: var(--color-gray-100);
  }

  .btn--ghost {
    background: transparent;
    border-color: var(--color-border);
  }

  .btn--ghost:hover {
    background: var(--color-gray-50);
  }
</style>
</file>

<file path="src/components/ui/ButtonLink.astro">
---
import Button from "./Button.astro";

type Props = {
  href: string;
  external?: boolean;
  variant?: "primary" | "secondary";
  size?: "sm" | "md" | "lg";
};

const { href, external, variant = "primary", size = "md" } = Astro.props;
---

<Button href={href} external={external} variant={variant} size={size}>
  <slot />
</Button>
</file>

<file path="src/components/ui/Card.astro">
---
type Props = {
  title: string;
  description?: string;
  href?: string;
};

const { title, description, href } = Astro.props;
---

<div class="card">
  <div class="card__title">{title}</div>
  {description && <p class="card__desc muted">{description}</p>}
  {href && (
    <p style="margin: 0;">
      <a class="card__link" href={href}>Learn more</a>
    </p>
  )}
</div>

<style>
  .card__title {
    font-weight: 800;
    font-size: var(--font-size-2);
    margin-bottom: var(--space-2);
  }

  .card__desc {
    margin: 0 0 var(--space-3);
  }

  .card__link {
    font-weight: 700;
    text-decoration: none;
  }

  .card__link:hover {
    text-decoration: underline;
  }
</style>
</file>

<file path="src/components/ui/CardGrid.astro">
---
type Props = {
  /** Fixed number of columns (e.g. 3). */
  columns?: number;
  /** Responsive min column width in px (auto-fit). */
  columnsMin?: number;
};

const { columns, columnsMin = 240 } = Astro.props;

const template =
  typeof columns === "number"
    ? `repeat(${columns}, minmax(0, 1fr))`
    : `repeat(auto-fit, minmax(${columnsMin}px, 1fr))`;
---

<div class="grid" style={`grid-template-columns: ${template};`}>
  <slot />
</div>

<style>
  .grid {
    display: grid;
    gap: var(--space-4);
  }
</style>
</file>

<file path="src/components/ui/Hero.astro">
---
import Button from "./Button.astro";

type Props = {
  title: string;
  subtitle?: string;
  primaryCtaLabel?: string;
  primaryCtaHref?: string;
  secondaryCtaLabel?: string;
  secondaryCtaHref?: string;
};

const {
  title,
  subtitle,
  primaryCtaLabel,
  primaryCtaHref,
  secondaryCtaLabel,
  secondaryCtaHref
} = Astro.props;
---

<section class="hero card">
  <div class="hero__inner">
    <div>
      <h1 class="hero__title">{title}</h1>
      {subtitle && <p class="hero__subtitle muted">{subtitle}</p>}
    </div>

    {(primaryCtaLabel && primaryCtaHref) || (secondaryCtaLabel && secondaryCtaHref) ? (
      <div class="hero__actions">
        {primaryCtaLabel && primaryCtaHref && (
          <Button href={primaryCtaHref} variant="primary">{primaryCtaLabel}</Button>
        )}
        {secondaryCtaLabel && secondaryCtaHref && (
          <Button href={secondaryCtaHref} variant="secondary">{secondaryCtaLabel}</Button>
        )}
      </div>
    ) : null}
  </div>
</section>

<style>
  .hero__inner {
    display: grid;
    gap: var(--space-4);
  }

  .hero__title {
    margin: 0;
    font-size: var(--font-size-5);
    line-height: 1.15;
  }

  .hero__subtitle {
    margin: var(--space-2) 0 0;
    font-size: var(--font-size-2);
  }

  .hero__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
  }
</style>
</file>

<file path="src/components/ui/Schedule.astro">
---
import type { ScheduleItem } from "../../data/site";

type Props = {
  title?: string;
  items: ScheduleItem[];
};

const { title = "This Week", items } = Astro.props;
---

<section class="card">
  <h2 style="margin-top: 0;">{title}</h2>
  <ul class="schedule">
    {items.map((item) => (
      <li class="schedule__item">
        <div class="schedule__label">{item.label}</div>
        <div class="schedule__meta muted">{item.day} - {item.time}</div>
      </li>
    ))}
  </ul>
</section>

<style>
  .schedule {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-3);
  }

  .schedule__item {
    padding: var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-3);
    background: var(--color-surface-muted);
  }

  .schedule__label {
    font-weight: 800;
  }

  .schedule__meta {
    font-size: var(--font-size-0);
    margin-top: var(--space-1);
  }
</style>
</file>

<file path="src/components/Footer.astro">
---
import { site } from "../data/site";

const year = new Date().getFullYear();
---

<footer class="footer">
  <div class="container footer__inner">
    <div class="footer__cols">
      <div>
        <div class="footer__title">{site.name}</div>
        <p class="muted" style="margin: 0;">
          <a href={site.contact.mapsUrl} target="_blank" rel="noopener noreferrer">
            {site.contact.address}
          </a>
        </p>
      </div>

      <div>
        <div class="footer__title">Contact</div>
        <ul class="footer__list">
          <li><a href={`tel:${site.contact.phone.replace(/[^0-9+]/g, "")}`}>{site.contact.phone}</a></li>
          <li><a href={`mailto:${site.contact.email}`}>{site.contact.email}</a></li>
          <li><a href="/connect/contact">Contact page</a></li>
        </ul>
      </div>

      <div>
        <div class="footer__title">Service times</div>
        <ul class="footer__list">
          {site.schedule.map((item) => (
            <li><strong>{item.label}:</strong> {item.day} - {item.time}</li>
          ))}
        </ul>
      </div>

      <div>
        <div class="footer__title">Links</div>
        <div class="nav" aria-label="Footer links">
          <a href="/give">Give</a>
          <a href="/media/live">Watch Live</a>
          <a href="/resources/bulletins">Bulletins</a>
          <a href="/resources/forms">Forms</a>
          <a href="/search">Search</a>
          <a href="/privacy">Privacy</a>
        </div>
        <div class="nav" aria-label="Social links" style="margin-top: var(--space-2);">
          {site.social.map((item) => (
            <a href={item.href} target="_blank" rel="noopener noreferrer">{item.label}</a>
          ))}
        </div>
      </div>
    </div>

    <div class="small muted">© {year} {site.name}</div>
  </div>
</footer>
</file>

<file path="src/components/Header.astro">
---
import { site } from "../data/site";

const pathname = Astro.url.pathname;

function isActive(href: string) {
  if (href === "/") return pathname === "/";
  return pathname === href || pathname.startsWith(href + "/");
}

function linkAttrs(item: { href: string; external?: boolean }) {
  return item.external
    ? { target: "_blank", rel: "noopener noreferrer" }
    : {};
}
---

<header class="header">
  <div class="container header__inner">
    <div class="header__brand">
      <a href="/">{site.shortName}</a>
      <div class="small muted">Site under construction (MVP)</div>
    </div>

    <div class="header__desktop" aria-label="Header navigation">
      <nav class="nav" aria-label="Primary navigation">
        {site.nav.map((item) => (
          <a
            href={item.href}
            aria-current={isActive(item.href) ? "page" : undefined}
            {...linkAttrs(item)}
          >
            {item.label}
          </a>
        ))}
      </nav>

      <nav class="nav" aria-label="Quick actions">
        {site.quickActions.map((item) => (
          <a
            href={item.href}
            style="font-weight: 700;"
            aria-current={isActive(item.href) ? "page" : undefined}
            {...linkAttrs(item)}
          >
            {item.label}
          </a>
        ))}
      </nav>
    </div>

    <div class="header__mobile">
      <details class="menu">
        <summary aria-label="Open menu">Menu</summary>
        <div class="menu__panel" aria-label="Mobile menu">
          <div>
            <div class="menu__sectionTitle">Navigate</div>
            <nav class="nav" aria-label="Primary navigation (mobile)">
              {site.nav.map((item) => (
                <a
                  href={item.href}
                  aria-current={isActive(item.href) ? "page" : undefined}
                  {...linkAttrs(item)}
                >
                  {item.label}
                </a>
              ))}
            </nav>
          </div>

          <div>
            <div class="menu__sectionTitle">Quick actions</div>
            <nav class="nav" aria-label="Quick actions (mobile)">
              {site.quickActions.map((item) => (
                <a
                  href={item.href}
                  style="font-weight: 700;"
                  aria-current={isActive(item.href) ? "page" : undefined}
                  {...linkAttrs(item)}
                >
                  {item.label}
                </a>
              ))}
            </nav>
          </div>
        </div>
      </details>
    </div>
  </div>
</header>

<script>
  // Close the mobile menu when a link is clicked.
  document.addEventListener("click", (e) => {
    const target = e.target;
    if (!(target instanceof HTMLElement)) return;

    const link = target.closest("a");
    const details = target.closest("details.menu");
    if (link && details) details.removeAttribute("open");
  });
</script>
</file>

<file path="src/components/PlaceholderPage.astro">
---
type Props = {
  title: string;
  message?: string;
};

const { title, message } = Astro.props;
---

<section class="card">
  <h1 style="margin-top: 0;">{title}</h1>
  <p class="muted">
    {message ?? "We’re preparing this page. More information will be here soon."}
  </p>
</section>
</file>

<file path="src/components/Welcome.astro">
---
import astroLogo from '../assets/astro.svg';
import background from '../assets/background.svg';
---

<div id="container">
	<img id="background" src={background.src} alt="" fetchpriority="high" />
	<main>
		<section id="hero">
			<a href="https://astro.build"
				><img src={astroLogo.src} width="115" height="48" alt="Astro Homepage" /></a
			>
			<h1>
				To get started, open the <code><pre>src/pages</pre></code> directory in your project.
			</h1>
			<section id="links">
				<a class="button" href="https://docs.astro.build">Read our docs</a>
				<a href="https://astro.build/chat"
					>Join our Discord <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"
						><path
							fill="currentColor"
							d="M107.7 8.07A105.15 105.15 0 0 0 81.47 0a72.06 72.06 0 0 0-3.36 6.83 97.68 97.68 0 0 0-29.11 0A72.37 72.37 0 0 0 45.64 0a105.89 105.89 0 0 0-26.25 8.09C2.79 32.65-1.71 56.6.54 80.21a105.73 105.73 0 0 0 32.17 16.15 77.7 77.7 0 0 0 6.89-11.11 68.42 68.42 0 0 1-10.85-5.18c.91-.66 1.8-1.34 2.66-2a75.57 75.57 0 0 0 64.32 0c.87.71 1.76 1.39 2.66 2a68.68 68.68 0 0 1-10.87 5.19 77 77 0 0 0 6.89 11.1 105.25 105.25 0 0 0 32.19-16.14c2.64-27.38-4.51-51.11-18.9-72.15ZM42.45 65.69C36.18 65.69 31 60 31 53s5-12.74 11.43-12.74S54 46 53.89 53s-5.05 12.69-11.44 12.69Zm42.24 0C78.41 65.69 73.25 60 73.25 53s5-12.74 11.44-12.74S96.23 46 96.12 53s-5.04 12.69-11.43 12.69Z"
						></path></svg
					>
				</a>
			</section>
		</section>
	</main>

	<a href="https://astro.build/blog/astro-5/" id="news" class="box">
		<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"
			><path
				d="M24.667 12c1.333 1.414 2 3.192 2 5.334 0 4.62-4.934 5.7-7.334 12C18.444 28.567 18 27.456 18 26c0-4.642 6.667-7.053 6.667-14Zm-5.334-5.333c1.6 1.65 2.4 3.43 2.4 5.333 0 6.602-8.06 7.59-6.4 17.334C13.111 27.787 12 25.564 12 22.666c0-4.434 7.333-8 7.333-16Zm-6-5.333C15.111 3.555 16 5.556 16 7.333c0 8.333-11.333 10.962-5.333 22-3.488-.774-6-4-6-8 0-8.667 8.666-10 8.666-20Z"
				fill="#111827"></path></svg
		>
		<h2>What's New in Astro 5.0?</h2>
		<p>
			From content layers to server islands, click to learn more about the new features and
			improvements in Astro 5.0
		</p>
	</a>
</div>

<style>
	#background {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1;
		filter: blur(100px);
	}

	#container {
		font-family: Inter, Roboto, 'Helvetica Neue', 'Arial Nova', 'Nimbus Sans', Arial, sans-serif;
		height: 100%;
	}

	main {
		height: 100%;
		display: flex;
		justify-content: center;
	}

	#hero {
		display: flex;
		align-items: start;
		flex-direction: column;
		justify-content: center;
		padding: 16px;
	}

	h1 {
		font-size: 22px;
		margin-top: 0.25em;
	}

	#links {
		display: flex;
		gap: 16px;
	}

	#links a {
		display: flex;
		align-items: center;
		padding: 10px 12px;
		color: #111827;
		text-decoration: none;
		transition: color 0.2s;
	}

	#links a:hover {
		color: rgb(78, 80, 86);
	}

	#links a svg {
		height: 1em;
		margin-left: 8px;
	}

	#links a.button {
		color: white;
		background: linear-gradient(83.21deg, #3245ff 0%, #bc52ee 100%);
		box-shadow:
			inset 0 0 0 1px rgba(255, 255, 255, 0.12),
			inset 0 -2px 0 rgba(0, 0, 0, 0.24);
		border-radius: 10px;
	}

	#links a.button:hover {
		color: rgb(230, 230, 230);
		box-shadow: none;
	}

	pre {
		font-family:
			ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono',
			monospace;
		font-weight: normal;
		background: linear-gradient(14deg, #d83333 0%, #f041ff 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		margin: 0;
	}

	h2 {
		margin: 0 0 1em;
		font-weight: normal;
		color: #111827;
		font-size: 20px;
	}

	p {
		color: #4b5563;
		font-size: 16px;
		line-height: 24px;
		letter-spacing: -0.006em;
		margin: 0;
	}

	code {
		display: inline-block;
		background:
			linear-gradient(66.77deg, #f3cddd 0%, #f5cee7 100%) padding-box,
			linear-gradient(155deg, #d83333 0%, #f041ff 18%, #f5cee7 45%) border-box;
		border-radius: 8px;
		border: 1px solid transparent;
		padding: 6px 8px;
	}

	.box {
		padding: 16px;
		background: rgba(255, 255, 255, 1);
		border-radius: 16px;
		border: 1px solid white;
	}

	#news {
		position: absolute;
		bottom: 16px;
		right: 16px;
		max-width: 300px;
		text-decoration: none;
		transition: background 0.2s;
		backdrop-filter: blur(50px);
	}

	#news:hover {
		background: rgba(255, 255, 255, 0.55);
	}

	@media screen and (max-height: 368px) {
		#news {
			display: none;
		}
	}

	@media screen and (max-width: 768px) {
		#container {
			display: flex;
			flex-direction: column;
		}

		#hero {
			display: block;
			padding-top: 10%;
		}

		#links {
			flex-wrap: wrap;
		}

		#links a.button {
			padding: 14px 18px;
		}

		#news {
			right: 16px;
			left: 16px;
			bottom: 2.5rem;
			max-width: 100%;
		}

		h1 {
			line-height: 1.5;
		}
	}
</style>
</file>

<file path="src/content/bulletins/2025-12-13.md">
---
title: "Sabbath Bulletin"
date: "2025-12-13"
summary: "Archive sample bulletin."
pdfUrl: "/bulletins/2025-12-13.pdf"
---
</file>

<file path="src/content/bulletins/2025-12-20.md">
---
title: "Sabbath Bulletin"
date: "2025-12-20"
summary: "Order of service, announcements, and weekly schedule."
pdfUrl: "/bulletins/2025-12-20.pdf"
---
</file>

<file path="src/content/events/sabbath-service.md">
---
title: "Sabbath Worship Service"
summary: "Join us each Sabbath for worship, prayer, and a message. Visitors are always welcome."
start: "2026-01-10T11:00:00-05:00"
end: "2026-01-10T12:30:00-05:00"
locationName: "Springfield Hispanic SDA Church"
address: "124 Putnam Cir, Springfield, MA 01104"
tags: ["worship", "sabbath"]
---

## What to expect

- A warm welcome
- Congregational singing
- Scripture and message

## Who can come?

Everyone. Come as you are.
</file>

<file path="src/content/ministries/children.md">
---
title: "Children’s Ministry"
summary: "Bible stories, songs, and activities designed for kids to grow in faith and community."
leaderName: "Ministry Leader"
contactEmail: "info@example.org"
meetingTime: "Sabbaths during the service"
ctaLabel: "Contact us"
ctaHref: "/connect/contact/"
tags: ["kids", "families"]
---

## Overview

We support families by providing age-appropriate activities and a safe environment.

## How to get involved

Talk to the greeter team or use the contact form.
</file>

<file path="src/content/resources/2025/12/16/welcome-packet.md">
---
title: "Welcome Packet"
summary: "A quick overview of our church, what we believe, and how to get connected."
published: "2025-12-16"
category: "New Here"
attachmentUrl: "/resources/forms/" # replace with a real PDF path if/when you add one
---

## Inside

- Service times
- What to expect
- Ways to connect
</file>

<file path="src/data/site-links.json">
{
  "givingUrl": "https://adventistgiving.org/",
  "youtubeChannelUrl": "https://www.youtube.com/@A7DON",
  "youtubeLiveEmbedUrl": "TBD",
  "facebookUrl": "https://www.facebook.com/SpringfieldIASD/",
  "prayerFormUrl": "TBD",
  "contactFormUrl": "TBD",
  "volunteerFormUrl": "TBD",
  "oldWebsiteUrl": "http://www.iglesiaadventistaspringfield.20m.com"
}
</file>

<file path="src/data/site.ts">
import links from "./site-links.json";
import weekSchedule from "./week-schedule.json";

export type NavItem = {
  label: string;
  href: string;
  external?: boolean;
};

export type ScheduleItem = {
  label: string;
  day: string;
  time: string;
};

export type PortalLinks = {
  givingUrl: string;
  youtubeChannelUrl: string;
  youtubeLiveEmbedUrl: string;
  facebookUrl: string;
  prayerFormUrl: string;
  contactFormUrl: string;
  volunteerFormUrl: string;
  oldWebsiteUrl?: string;
};

export const site = {
  name: "Springfield Hispanic SDA Church",
  shortName: "Springfield Hispanic SDA",
  locale: "en-US",
  timeZone: "America/New_York",
  description:
    "Service times, directions, and resources for Springfield Hispanic Seventh-day Adventist Church in Springfield, Massachusetts.",
  contact: {
    address: "124 Putnam Cir, Springfield, MA 01104",
    mailingAddress: "PO Box 80598, Springfield, MA 01138-0598",
    mapsUrl: "https://www.google.com/maps?q=124+Putnam+Cir,+Springfield,+MA+01104",
    phone: "(413) 788-9130",
    email: "info@example.com" // Replace once verified
  },

  leadership: {
    pastorName: "Pastor Manuel Medina" // Replace if/when updated
  },

  visit: {
    languageNote: "Services are primarily in Spanish. Everyone is welcome.",
    parkingNote: "Parking is typically available near the church. If you need help when you arrive, call ahead.",
    accessibilityNote:
      "If you need accessibility accommodations, please contact the church so we can help you plan your visit.",
    directions: [
      "From I-95 North, take I-91 North.",
      "Take I-291 East (Exit 8).",
      "Proceed through the light and follow St. James Ave.",
      "Turn right onto Carew Street.",
      "Go 4 blocks to Putnam Circle and turn left to the church."
    ]
  },

  schedule: weekSchedule satisfies ScheduleItem[],
  portals: links satisfies PortalLinks,

  nav: [
    { label: "Home", href: "/" },
    { label: "Connect", href: "/connect" },
    { label: "Join", href: "/join" },
    { label: "Ministries", href: "/ministries" },
    { label: "Resources", href: "/resources" },
    { label: "Serve", href: "/serve" },
    { label: "Media", href: "/media" }
  ] satisfies NavItem[],

  quickActions: [
    { label: "Watch Live", href: "/media/live" },
    { label: "Give", href: "/give" },
    { label: "Prayer", href: "/connect/prayer" },
    { label: "Bulletins", href: "/resources/bulletins" },
    { label: "Forms", href: "/resources/forms" }
  ] satisfies NavItem[],

  social: [
    { label: "YouTube", href: "https://www.youtube.com/@A7DON", external: true },
    { label: "Facebook", href: "https://www.facebook.com/SpringfieldIASD/", external: true }
  ] satisfies NavItem[]
};
</file>

<file path="src/data/videos.json">
[
  {
    "title": "Sabbath Worship Service",
    "date": "2025-12-13",
    "youtubeId": "TBD",
    "summary": "Weekly worship service."
  },
  {
    "title": "Bible Study / Message",
    "date": "2025-12-06",
    "youtubeId": "TBD",
    "summary": "Sermon and reflection."
  },
  {
    "title": "Special Program",
    "date": "2025-11-29",
    "youtubeId": "TBD",
    "summary": "Guest speaker or special event."
  }
]
</file>

<file path="src/data/week-schedule.json">
[
  { "label": "Sabbath School", "day": "Saturday", "time": "9:30 AM" },
  { "label": "Worship Service", "day": "Saturday", "time": "11:00 AM" },
  { "label": "Prayer Meeting", "day": "Wednesday", "time": "7:30 PM" }
]
</file>

<file path="src/layouts/BaseLayout.astro">
---
import "../styles/global.css";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import { site } from "../data/site";

const { title, description } = Astro.props;

const pageTitle = title ? `${title} | ${site.shortName}` : site.name;
const metaDescription = description ?? site.description;

// Phase 6: analytics is optional and should only run in production.
// PUBLIC_ vars are safe to expose client-side.
const analyticsToken = import.meta.env.PUBLIC_CF_ANALYTICS_TOKEN;
const enableAnalytics = import.meta.env.PROD && Boolean(analyticsToken);
---

<!doctype html>
<html lang={site.locale}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={metaDescription} />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>

    {/* Allow pages to inject extra <head> tags when needed */}
    <slot name="head" />

    {enableAnalytics && (
      <script
        is:inline
        defer
        src="https://static.cloudflareinsights.com/beacon.min.js"
        data-cf-beacon={JSON.stringify({ token: analyticsToken })}
      ></script>
    )}
  </head>
  <body>
    <a class="skip-link" href="#main-content">Skip to content</a>

    <div data-pagefind-ignore>
      <Header />
    </div>

    <main id="main-content" class="container" data-pagefind-body>
      <slot />
    </main>

    <div data-pagefind-ignore>
      <Footer />
    </div>
  </body>
</html>
</file>

<file path="src/layouts/Layout.astro">
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro Basics</title>
	</head>
	<body>
		<slot />
	</body>
</html>

<style>
	html,
	body {
		margin: 0;
		width: 100%;
		height: 100%;
	}
</style>
</file>

<file path="src/pages/connect/about/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";
---

<BaseLayout
  title="About"
  description="About Springfield Hispanic Seventh-day Adventist Church in Springfield, Massachusetts."
>
  <div class="stack">
    <h1 style="margin: 0;">About</h1>
    <p class="muted" style="margin: 0;">
      We are a local congregation of the Seventh-day Adventist Church in Springfield, Massachusetts.
    </p>

    <section class="card" aria-labelledby="about-mission">
      <h2 id="about-mission" style="margin-top: 0;">Our mission</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        To know Jesus, grow in faith through Scripture, and serve our community with compassion.
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        This page should stay short and welcoming. Longer history and leadership bios can be added in later phases.
      </p>
    </section>

    <section class="card" aria-labelledby="about-quick-facts">
      <h2 id="about-quick-facts" style="margin-top: 0;">Quick facts</h2>
      <ul style="margin: var(--space-3) 0 0; padding-left: 1.1rem;">
        <li><strong>Pastor:</strong> {site.leadership.pastorName}</li>
        <li><strong>Language:</strong> Spanish (visitors welcome)</li>
        <li><strong>Address:</strong> <a href={site.contact.mapsUrl} target="_blank" rel="noopener noreferrer">{site.contact.address}</a></li>
        <li><strong>Mail:</strong> {site.contact.mailingAddress}</li>
        <li><strong>Phone:</strong> <a href={`tel:${site.contact.phone.replace(/[^0-9+]/g, "")}`}>{site.contact.phone}</a></li>
      </ul>
    </section>

    <section class="card" aria-labelledby="about-beliefs">
      <h2 id="about-beliefs" style="margin-top: 0;">What we believe</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Seventh-day Adventists are Christians who value the Bible, worship on Saturday (the Sabbath), and seek to live faithfully and serve others.
      </p>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        If you’re exploring faith or returning to church after a long time, you are welcome. You do not need to have everything figured out to visit.
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        Want to learn more? Visit the official denomination site.
      </p>
      <div style="margin-top: var(--space-3);">
        <Button href="https://www.adventist.org/" external variant="secondary">Learn more</Button>
      </div>
    </section>

    <section class="card" aria-labelledby="about-contact">
      <h2 id="about-contact" style="margin-top: 0;">Get in touch</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Questions before you visit? We’d love to help.
      </p>
      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href="/connect/plan-a-visit" variant="secondary">Plan a visit</Button>
        <Button href="/connect/contact" variant="ghost">Contact</Button>
      </div>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/connect/contact/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";

const phoneHref = `tel:${site.contact.phone.replace(/[^0-9+]/g, "")}`;
const hasContactForm = site.portals.contactFormUrl && site.portals.contactFormUrl !== "TBD";
---

<BaseLayout
  title="Contact"
  description="Contact Springfield Hispanic SDA Church: address, phone, and ways to reach us."
>
  <div class="stack">
    <h1 style="margin: 0;">Contact</h1>

    <section class="card" aria-labelledby="contact-address">
      <h2 id="contact-address" style="margin-top: 0;">Address</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        <a href={site.contact.mapsUrl} target="_blank" rel="noopener noreferrer">{site.contact.address}</a>
      </p>
      <p class="small muted" style="margin: var(--space-2) 0 0;">
        Mail: {site.contact.mailingAddress}
      </p>
      <div style="margin-top: var(--space-4);">
        <Button href={site.contact.mapsUrl} external variant="secondary">Open in Maps</Button>
      </div>
    </section>

    <section class="card" aria-labelledby="contact-phone">
      <h2 id="contact-phone" style="margin-top: 0;">Phone</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        <a href={phoneHref}>{site.contact.phone}</a>
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If nobody answers, please leave a message and include a callback number.
      </p>
    </section>

    <section class="card" aria-labelledby="contact-email">
      <h2 id="contact-email" style="margin-top: 0;">Email</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        <a href={`mailto:${site.contact.email}`}>{site.contact.email}</a>
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If the email above is not the preferred public contact, replace it in <code>src/data/site.ts</code>.
      </p>
    </section>

    <section class="card" aria-labelledby="contact-form">
      <h2 id="contact-form" style="margin-top: 0;">Message us</h2>
      {hasContactForm ? (
        <div>
          <p class="muted" style="margin: var(--space-2) 0 0;">
            Use our contact form and we’ll follow up as soon as possible.
          </p>
          <div style="margin-top: var(--space-4);">
            <Button href={site.portals.contactFormUrl} external variant="secondary">Open contact form</Button>
          </div>
          <p class="small muted" style="margin: var(--space-3) 0 0;">
            Please avoid including sensitive information.
          </p>
        </div>
      ) : (
        <div>
          <p class="muted" style="margin: var(--space-2) 0 0;">
            A contact form link can be added here once it’s ready. For now, please call or email.
          </p>
        </div>
      )}
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/connect/plan-a-visit/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Schedule from "../../../components/ui/Schedule.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";
---

<BaseLayout
  title="Plan a Visit"
  description="Service times, directions, parking, and what to expect when visiting Springfield Hispanic SDA Church."
>
  <div class="stack">
    <h1 style="margin: 0;">Plan a Visit</h1>
    <p class="muted" style="margin: 0;">
      We’re glad you’re here. Below are the essentials for your first visit.
    </p>

    <section class="card" aria-labelledby="visit-essentials">
      <h2 id="visit-essentials" style="margin-top: 0;">Visit essentials</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        <strong>Address:</strong>{" "}
        <a href={site.contact.mapsUrl} target="_blank" rel="noopener noreferrer">{site.contact.address}</a>
      </p>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        <strong>Phone:</strong>{" "}
        <a href={`tel:${site.contact.phone.replace(/[^0-9+]/g, "")}`}>{site.contact.phone}</a>
      </p>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        {site.visit.languageNote}
      </p>
      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href={site.contact.mapsUrl} external variant="secondary">Open in Maps</Button>
        <Button href="/connect/contact" variant="ghost">Contact</Button>
      </div>
    </section>

    <section aria-labelledby="visit-times">
      <h2 id="visit-times" style="margin: 0;">Service times</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        These are our regular weekly meeting times.
      </p>
      <div style="margin-top: var(--space-4);">
        <Schedule title="This week" items={site.schedule} />
      </div>
    </section>

    <section class="card" aria-labelledby="what-to-expect">
      <h2 id="what-to-expect" style="margin-top: 0;">What to expect</h2>
      <ul style="margin: var(--space-3) 0 0; padding-left: 1.1rem;">
        <li>Come as you are - you don’t need to dress a certain way.</li>
        <li>Sabbath School is a time for Bible study and discussion.</li>
        <li>The Worship Service includes music, prayer, Scripture reading, and a message from Scripture.</li>
        <li>If you’re visiting for the first time, feel free to introduce yourself to an usher or greeter.</li>
        <li>If you have kids, ask someone to point you to the appropriate classroom or seating area.</li>
      </ul>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        {site.visit.accessibilityNote}
      </p>
    </section>

    <section class="card" aria-labelledby="directions">
      <h2 id="directions" style="margin-top: 0;">Directions (quick summary)</h2>
      <ol style="margin: var(--space-3) 0 0; padding-left: 1.1rem;">
        {site.visit.directions.map((step) => (
          <li>{step}</li>
        ))}
      </ol>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        {site.visit.parkingNote}
      </p>
    </section>

    <section class="card" aria-labelledby="visit-questions">
      <h2 id="visit-questions" style="margin-top: 0;">Questions before you come?</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        If you’re unsure where to enter, what time to arrive, or you need help with directions, contact us and we’ll do our best to help.
      </p>
      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href="/connect/contact" variant="secondary">Contact</Button>
        <Button href="/connect/prayer" variant="ghost">Prayer</Button>
      </div>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/connect/prayer/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";

const hasPrayerForm = site.portals.prayerFormUrl && site.portals.prayerFormUrl !== "TBD";
---

<BaseLayout
  title="Prayer"
  description="Submit a prayer request to Springfield Hispanic SDA Church."
>
  <div class="stack">
    <h1 style="margin: 0;">Prayer</h1>
    <p class="muted" style="margin: 0;">
      We would be honored to pray for you. You can submit a request below.
    </p>

    <section class="card" aria-labelledby="prayer-submit">
      <h2 id="prayer-submit" style="margin-top: 0;">Submit a prayer request</h2>

      {hasPrayerForm ? (
        <div>
          <p class="muted" style="margin: var(--space-2) 0 0;">
            Use the prayer request form. If you’d like someone to follow up, include your contact details.
          </p>
          <div style="margin-top: var(--space-4);">
            <Button href={site.portals.prayerFormUrl} external variant="secondary">Open prayer request form</Button>
          </div>
        </div>
      ) : (
        <div>
          <p class="muted" style="margin: var(--space-2) 0 0;">
            A prayer request form link can be added here once it’s ready.
          </p>
          <p class="muted" style="margin: var(--space-2) 0 0;">
            For now, you can call us at {" "}
            <a href={`tel:${site.contact.phone.replace(/[^0-9+]/g, "")}`}>{site.contact.phone}</a>{" "}
            or email {" "}
            <a href={`mailto:${site.contact.email}?subject=Prayer%20request`}>{site.contact.email}</a>.
          </p>
        </div>
      )}

      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If your request is urgent or you need immediate help, please call.
      </p>
    </section>

    <section class="card" aria-labelledby="prayer-next">
      <h2 id="prayer-next" style="margin-top: 0;">What happens next?</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Prayer requests are reviewed by church leadership or designated volunteers. If you request follow-up, we will reach out when possible.
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        Privacy note: please keep details appropriate for a shared prayer team.
      </p>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/connect/worship-with-us/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Schedule from "../../../components/ui/Schedule.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";
---

<BaseLayout
  title="Worship With Us"
  description="Learn what Sabbath School, Worship Service, and Prayer Meeting are like at Springfield Hispanic SDA Church."
>
  <div class="stack">
    <h1 style="margin: 0;">Worship With Us</h1>
    <p class="muted" style="margin: 0;">
      We gather each week to study the Bible, worship God, and support one another.
    </p>

    <Schedule title="Service times" items={site.schedule} />

    <section class="card" aria-labelledby="sabbath-school">
      <h2 id="sabbath-school" style="margin-top: 0;">Sabbath School</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        A Bible study time with discussion and learning. This is a great place to meet people and ask questions.
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If you’re new to church or new to the Bible, you are still welcome - you can listen, learn, and participate as much as you want.
      </p>
    </section>

    <section class="card" aria-labelledby="worship-service">
      <h2 id="worship-service" style="margin-top: 0;">Worship Service</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Worship typically includes singing, prayer, Scripture reading, and a message. Visitors are always welcome.
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If you arrive a few minutes early, it’s usually easier to find a seat and get oriented.
      </p>
    </section>

    <section class="card" aria-labelledby="prayer-meeting">
      <h2 id="prayer-meeting" style="margin-top: 0;">Prayer Meeting</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Midweek prayer and Bible study (see the schedule above for the regular time).
      </p>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        Prayer Meeting is a quieter gathering focused on encouragement, community support, and prayer.
      </p>
    </section>

    <section class="card" aria-labelledby="next-steps">
      <h2 id="next-steps" style="margin-top: 0;">Next steps</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        If you’d like someone to reach out, or you have questions before visiting, contact us anytime.
      </p>
      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href="/connect/plan-a-visit" variant="secondary">Plan a visit</Button>
        <Button href="/connect/contact" variant="ghost">Contact</Button>
      </div>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/connect/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Card from "../../components/ui/Card.astro";
import CardGrid from "../../components/ui/CardGrid.astro";
import Button from "../../components/ui/Button.astro";
import { site } from "../../data/site";
---

<BaseLayout
  title="Connect"
  description="Plan a visit, learn about worship, request prayer, and get in touch with Springfield Hispanic SDA Church."
>
  <div class="stack">
    <h1 style="margin: 0;">Connect</h1>
    <p class="muted" style="margin: 0;">
      New here? Start with Plan a Visit. Need support? Use Prayer or Contact.
    </p>

    <CardGrid columns={3}>
      <Card
        title="Plan a Visit"
        description="Directions, what to expect, and service times."
        href="/connect/plan-a-visit"
      />
      <Card
        title="Worship With Us"
        description="What happens at Sabbath School, Worship Service, and Prayer Meeting."
        href="/connect/worship-with-us"
      />
      <Card
        title="About"
        description="Learn who we are and what we believe."
        href="/connect/about"
      />
      <Card
        title="Contact"
        description="Address, phone, email, and reliable ways to reach us."
        href="/connect/contact"
      />
      <Card
        title="Prayer"
        description="Submit a prayer request or ask for follow-up."
        href="/connect/prayer"
      />
      <Card
        title="Give"
        description="Support the mission of the church online."
        href="/give"
      />
    </CardGrid>

    <div class="card">
      <div style="font-weight: 800;">Quick actions</div>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Watch online, open directions, or reach out right now.
      </p>
      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href="/media/live" variant="secondary">Watch live</Button>
        <Button href={site.contact.mapsUrl} external variant="secondary">Open maps</Button>
        <Button href="/connect/contact" variant="ghost">Contact</Button>
      </div>
    </div>
  </div>
</BaseLayout>
</file>

<file path="src/pages/events/[id].astro">
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const events = await getCollection('events', ({ data }) => {
    return import.meta.env.PROD ? data.draft !== true : true;
  });

  return events.map((event) => ({
    params: { id: event.id },
    props: { event },
  }));
}

const { event } = Astro.props;
const { Content } = await render(event);

const fmtDate = new Intl.DateTimeFormat('en-US', {
  dateStyle: 'full',
  timeStyle: 'short',
  timeZone: 'America/New_York',
});

const when = event.data.end
  ? `${fmtDate.format(event.data.start)} – ${fmtDate.format(event.data.end)}`
  : fmtDate.format(event.data.start);
---

<BaseLayout title={event.data.title} description={event.data.summary}>
  <Hero title={event.data.title} subtitle={event.data.summary} />

  <section class="container stack">
    <div class="card stack" style="gap: 0.5rem;">
      <p class="muted" style="margin: 0;"><strong>When:</strong> {when}</p>
      {event.data.locationName && (
        <p class="muted" style="margin: 0;"><strong>Where:</strong> {event.data.locationName}</p>
      )}
      {event.data.address && (
        <p class="muted" style="margin: 0;"><strong>Address:</strong> {event.data.address}</p>
      )}
      {event.data.registrationUrl && (
        <p style="margin: 0;">
          <a class="link" href={event.data.registrationUrl} rel="noopener noreferrer">Register / Learn more</a>
        </p>
      )}
    </div>

    <article class="card stack">
      <Content />
    </article>

    <p><a class="link" href="/events/">← Back to Events</a></p>
  </section>
</BaseLayout>
</file>

<file path="src/pages/events/index.astro">
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import ContentCard from '../../components/content/ContentCard.astro';
import { getCollection } from 'astro:content';

const events = await getCollection('events', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
});

const now = new Date();
const upcoming = events
  .filter((e) => e.data.start >= now)
  .sort((a, b) => a.data.start.valueOf() - b.data.start.valueOf());

const past = events
  .filter((e) => e.data.start < now)
  .sort((a, b) => b.data.start.valueOf() - a.data.start.valueOf())
  .slice(0, 12);

const fmt = new Intl.DateTimeFormat('en-US', {
  dateStyle: 'medium',
  timeStyle: 'short',
  timeZone: 'America/New_York',
});
---

<BaseLayout title="Events" description="What’s happening at church.">
  <Hero
    title="Events"
    subtitle="See what’s coming up and what we’ve recently hosted."
  />

  <section class="container stack">
    <h2>Upcoming</h2>

    {upcoming.length === 0 ? (
      <p class="muted">No upcoming events are published yet.</p>
    ) : (
      <div class="grid--cards">
        {upcoming.map((e) => (
          <ContentCard
            href={`/events/${e.id}/`}
            title={e.data.title}
            summary={e.data.summary}
            meta={fmt.format(e.data.start)}
            tags={e.data.tags}
          />
        ))}
      </div>
    )}

    <h2 style="margin-top: 2.5rem;">Recent</h2>
    {past.length === 0 ? (
      <p class="muted">No past events are published yet.</p>
    ) : (
      <div class="grid--cards">
        {past.map((e) => (
          <ContentCard
            href={`/events/${e.id}/`}
            title={e.data.title}
            summary={e.data.summary}
            meta={fmt.format(e.data.start)}
            tags={e.data.tags}
          />
        ))}
      </div>
    )}
  </section>
</BaseLayout>
</file>

<file path="src/pages/give/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Button from "../../components/ui/Button.astro";
import Card from "../../components/ui/Card.astro";
import CardGrid from "../../components/ui/CardGrid.astro";
import { site } from "../../data/site";
---

<BaseLayout title="Give" description="Support Springfield Hispanic SDA Church through online giving.">
  <div class="stack">
    <h1 style="margin: 0;">Give</h1>
    <p class="muted" style="margin: 0;">
      Thank you for supporting the mission of the church. Online giving is handled through our external giving platform.
    </p>

    <div class="card">
      <div style="font-weight: 800;">Online giving</div>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Use the secure giving link below.
      </p>
      <div style="margin-top: var(--space-4);">
        <Button href={site.portals.givingUrl} external variant="secondary">Give online</Button>
      </div>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If you prefer, you can also give in person during services.
      </p>
    </div>

    <section aria-labelledby="give-more">
      <h2 id="give-more" style="margin: 0;">More ways to help</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Beyond financial giving, you can also serve through volunteering and community support.
      </p>
      <CardGrid columns={3}>
        <Card title="Volunteer" description="Interested in serving? Use our volunteer form." href="/resources/forms" />
        <Card title="Prayer" description="Need support or follow-up? Submit a prayer request." href="/connect/prayer" />
        <Card title="Contact" description="Questions about giving? Reach out to the church." href="/connect/contact" />
      </CardGrid>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/join/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PlaceholderPage from "../../components/PlaceholderPage.astro";
---

<BaseLayout title="Join">
  <PlaceholderPage title="Join" />
</BaseLayout>
</file>

<file path="src/pages/media/live/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import YouTubeEmbed from "../../../components/media/YouTubeEmbed.astro";
import { site } from "../../../data/site";

const hasEmbed = site.portals.youtubeLiveEmbedUrl && site.portals.youtubeLiveEmbedUrl !== "TBD";
---

<BaseLayout title="Watch Live" description="Watch Springfield Hispanic SDA Church live.">
  <div class="stack">
    <h1 style="margin: 0;">Watch Live</h1>
    <p class="muted" style="margin: 0;">
      If a live stream is available, you can watch it here. You can always open the YouTube channel as a fallback.
    </p>

    <section class="card" aria-labelledby="live-player">
      <h2 id="live-player" style="margin-top: 0;">Live player</h2>

      {hasEmbed ? (
        <YouTubeEmbed title="Springfield Hispanic SDA Church Live" embedUrl={site.portals.youtubeLiveEmbedUrl} />
      ) : (
        <p class="muted" style="margin: 0;">
          Live embed is not configured yet. Set <code>youtubeLiveEmbedUrl</code> in <code>site-links.json</code>.
        </p>
      )}

      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href={site.portals.youtubeChannelUrl} external variant="secondary">Open YouTube channel</Button>
      </div>

      <p class="small muted" style="margin: var(--space-3) 0 0;">
        Tip: if the embedded player doesn’t load on a specific device/network, use the channel button above.
      </p>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/media/videos/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import CardGrid from "../../../components/ui/CardGrid.astro";
import Card from "../../../components/ui/Card.astro";
import { site } from "../../../data/site";
import videos from "../../../data/videos.json";

type Video = {
  title: string;
  date: string;
  youtubeId: string;
  summary?: string;
};

const list = (videos as Video[])
  .filter((v) => v.youtubeId && v.youtubeId !== "TBD")
  .sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf());

const fmt = new Intl.DateTimeFormat("en-US", { dateStyle: "long", timeZone: site.timeZone });

const watchUrl = (id: string) => `https://www.youtube.com/watch?v=${id}`;
---

<BaseLayout title="Videos" description="Recent videos from Springfield Hispanic SDA Church.">
  <div class="stack">
    <h1 style="margin: 0;">Videos</h1>
    <p class="muted" style="margin: 0;">Recent services and programs.</p>

    <section class="card" aria-labelledby="videos-browse">
      <h2 id="videos-browse" style="margin-top: 0;">Browse</h2>
      <div style="display: flex; flex-wrap: wrap; gap: var(--space-3);">
        <Button href={site.portals.youtubeChannelUrl} external variant="secondary">Browse on YouTube</Button>
      </div>
      <p class="small muted" style="margin: var(--space-3) 0 0;">
        If you don’t see recent videos below, update <code>web/src/data/videos.json</code> with the latest YouTube IDs.
      </p>
    </section>

    <section aria-labelledby="videos-recent">
      <h2 id="videos-recent" style="margin: 0;">Recent videos</h2>

      {list.length === 0 ? (
        <p class="muted" style="margin: var(--space-2) 0 0;">
          No videos are configured yet.
        </p>
      ) : (
        <CardGrid columnsMin={260}>
          {list.map((v) => (
            <Card
              title={v.title}
              description={`${fmt.format(new Date(v.date))}${v.summary ? ` • ${v.summary}` : ""}`}
              href={watchUrl(v.youtubeId)}
            />
          ))}
        </CardGrid>
      )}
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/media/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Card from "../../components/ui/Card.astro";
import CardGrid from "../../components/ui/CardGrid.astro";
import Button from "../../components/ui/Button.astro";
import { site } from "../../data/site";
---

<BaseLayout title="Media" description="Watch live and browse recent videos from Springfield Hispanic SDA Church.">
  <div class="stack">
    <h1 style="margin: 0;">Media</h1>
    <p class="muted" style="margin: 0;">Watch live services and browse recent videos.</p>

    <section class="card" aria-labelledby="media-actions">
      <h2 id="media-actions" style="margin-top: 0;">Quick links</h2>
      <div style="display: flex; flex-wrap: wrap; gap: var(--space-3);">
        <Button href="/media/live" variant="secondary">Watch Live</Button>
        <Button href="/media/videos" variant="secondary">Videos</Button>
        <Button href={site.portals.youtubeChannelUrl} external variant="ghost">YouTube channel</Button>
      </div>
    </section>

    <section aria-labelledby="media-sections">
      <h2 id="media-sections" style="margin: 0;">Explore</h2>
      <CardGrid columnsMin={240}>
        <Card
          title="Watch Live"
          description="Join our live stream during services."
          href="/media/live"
        />
        <Card
          title="Recent Videos"
          description="Sermons, music, and special programs."
          href="/media/videos"
        />
        <Card
          title="YouTube"
          description="Browse the full channel and playlists."
          href={site.portals.youtubeChannelUrl}
        />
      </CardGrid>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/ministries/[id].astro">
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import ButtonLink from '../../components/ui/ButtonLink.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const ministries = await getCollection('ministries', ({ data }) => {
    return import.meta.env.PROD ? data.draft !== true : true;
  });

  return ministries.map((ministry) => ({
    params: { id: ministry.id },
    props: { ministry },
  }));
}

const { ministry } = Astro.props;
const { Content } = await render(ministry);

const ctaLabel = ministry.data.ctaLabel ?? 'Get in touch';
const ctaHref = ministry.data.ctaHref ?? '/connect/contact/';
---

<BaseLayout title={ministry.data.title} description={ministry.data.summary}>
  <Hero title={ministry.data.title} subtitle={ministry.data.summary} />

  <section class="container stack">
    <div class="card stack" style="gap: 0.5rem;">
      {ministry.data.leaderName && (
        <p class="muted" style="margin: 0;"><strong>Leader:</strong> {ministry.data.leaderName}</p>
      )}
      {ministry.data.meetingTime && (
        <p class="muted" style="margin: 0;"><strong>Meets:</strong> {ministry.data.meetingTime}</p>
      )}
      {ministry.data.contactEmail && (
        <p class="muted" style="margin: 0;"><strong>Email:</strong> {ministry.data.contactEmail}</p>
      )}
      {ministry.data.contactPhone && (
        <p class="muted" style="margin: 0;"><strong>Phone:</strong> {ministry.data.contactPhone}</p>
      )}

      <div style="margin-top: 0.5rem;">
        <ButtonLink href={ctaHref}>{ctaLabel}</ButtonLink>
      </div>
    </div>

    <article class="card stack">
      <Content />
    </article>

    <p><a class="link" href="/ministries/">← Back to Ministries</a></p>
  </section>
</BaseLayout>
</file>

<file path="src/pages/ministries/index.astro">
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import ContentCard from '../../components/content/ContentCard.astro';
import { getCollection } from 'astro:content';

const ministries = await getCollection('ministries', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
});

const sorted = ministries.sort((a, b) => a.data.title.localeCompare(b.data.title));
---

<BaseLayout title="Ministries" description="Ways to serve and grow together.">
  <Hero title="Ministries" subtitle="Find a place to belong and serve." />

  <section class="container stack">
    {sorted.length === 0 ? (
      <p class="muted">No ministries are published yet.</p>
    ) : (
      <div class="grid--cards">
        {sorted.map((m) => (
          <ContentCard
            href={`/ministries/${m.id}/`}
            title={m.data.title}
            summary={m.data.summary}
            tags={m.data.tags}
          />
        ))}
      </div>
    )}
  </section>
</BaseLayout>
</file>

<file path="src/pages/privacy/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/ui/Hero.astro";

const analyticsEnabled = import.meta.env.PROD && Boolean(import.meta.env.PUBLIC_CF_ANALYTICS_TOKEN);
---

<BaseLayout title="Privacy" description="Privacy and data use">
  <div class="stack">
    <Hero title="Privacy" subtitle="How this website handles data." />

    <section class="card" style="padding: var(--space-4);">
      <h2 style="margin-top: 0;">Analytics</h2>
      {analyticsEnabled ? (
        <>
          <p class="muted">
            This site uses Cloudflare Web Analytics to understand overall traffic (for example: page views and referrers).
            We use this information to improve content and navigation.
          </p>
          <ul class="muted" style="margin-top: var(--space-2);">
            <li>We measure aggregated traffic, not individual user behavior.</li>
            <li>We do not sell personal information.</li>
            <li>We do not use this analytics setup for ad targeting.</li>
          </ul>
        </>
      ) : (
        <p class="muted">
          This site currently has analytics disabled. If enabled in the future, this page will be updated.
        </p>
      )}

      <h2>Search</h2>
      <p class="muted">
        Search is powered by a static index and runs in your browser. Search queries are not sent to a server.
      </p>

      <h2>External links</h2>
      <p class="muted">
        Some buttons and links may send you to external platforms (for example: online giving, YouTube, or forms).
        Those services have their own privacy policies.
      </p>

      <h2>Contact</h2>
      <p class="muted" style="margin-bottom: 0;">
        If you have privacy questions, please contact the church.
      </p>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/resources/bulletins/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import Card from "../../../components/ui/Card.astro";
import CardGrid from "../../../components/ui/CardGrid.astro";
import { site } from "../../../data/site";
import { getCollection } from "astro:content";

const bulletins = await getCollection("bulletins", ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
});

const sorted = bulletins.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
const current = sorted[0];
const archive = sorted.slice(1);

const fmt = new Intl.DateTimeFormat("en-US", { dateStyle: "full", timeZone: site.timeZone });
---

<BaseLayout title="Bulletins" description="Weekly bulletins and archives.">
  <div class="stack">
    <h1 style="margin: 0;">Bulletins</h1>
    <p class="muted" style="margin: 0;">Weekly PDFs and an archive.</p>

    {sorted.length === 0 ? (
      <section class="card">
        <p class="muted" style="margin: 0;">No bulletins have been posted yet.</p>
      </section>
    ) : (
      <>
        <section class="card" aria-labelledby="bulletins-current">
          <h2 id="bulletins-current" style="margin-top: 0;">Current bulletin</h2>
          <p class="muted" style="margin: var(--space-2) 0 0;">
            {current.data.title} • {fmt.format(current.data.date)}
          </p>
          {current.data.summary && (
            <p class="muted" style="margin: var(--space-2) 0 0;">{current.data.summary}</p>
          )}

          <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
            <Button href={current.data.pdfUrl} variant="secondary">Open PDF</Button>
          </div>
        </section>

        <section aria-labelledby="bulletins-archive">
          <h2 id="bulletins-archive" style="margin: 0;">Archive</h2>

          {archive.length === 0 ? (
            <p class="muted" style="margin: var(--space-2) 0 0;">No archived bulletins yet.</p>
          ) : (
            <CardGrid columnsMin={260}>
              {archive.map((b) => (
                <Card
                  title={b.data.title}
                  description={fmt.format(b.data.date)}
                  href={b.data.pdfUrl}
                />
              ))}
            </CardGrid>
          )}
        </section>
      </>
    )}

    <p class="small muted" style="margin: 0;">
      For church members: if you need a bulletin from a past week that isn’t listed, please contact the church.
    </p>
  </div>
</BaseLayout>
</file>

<file path="src/pages/resources/forms/index.astro">
---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import CardGrid from "../../../components/ui/CardGrid.astro";
import Card from "../../../components/ui/Card.astro";
import { site } from "../../../data/site";

const phoneHref = `tel:${site.contact.phone.replace(/[^0-9+]/g, "")}`;

const hasPrayerForm = site.portals.prayerFormUrl && site.portals.prayerFormUrl !== "TBD";
const hasContactForm = site.portals.contactFormUrl && site.portals.contactFormUrl !== "TBD";
const hasVolunteerForm = site.portals.volunteerFormUrl && site.portals.volunteerFormUrl !== "TBD";
---

<BaseLayout title="Forms" description="Official request and signup forms.">
  <div class="stack">
    <h1 style="margin: 0;">Forms</h1>
    <p class="muted" style="margin: 0;">
      Official request and signup forms. If a form is not available, you can always contact the church.
    </p>

    <section class="card" aria-labelledby="forms-help">
      <h2 id="forms-help" style="margin-top: 0;">Need help right now?</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Call us at <a href={phoneHref}>{site.contact.phone}</a> or visit the <a href="/connect/contact">Contact</a> page.
      </p>
    </section>

    <section aria-labelledby="forms-list">
      <h2 id="forms-list" style="margin: 0;">Available forms</h2>

      <CardGrid columnsMin={260}>
        {hasPrayerForm && (
          <Card
            title="Prayer request"
            description="Share a prayer request. Optionally ask for follow-up."
            href={site.portals.prayerFormUrl}
          />
        )}

        {hasContactForm && (
          <Card
            title="Contact / Questions"
            description="Send a message to the church."
            href={site.portals.contactFormUrl}
          />
        )}

        {hasVolunteerForm && (
          <Card
            title="Volunteer interest"
            description="Let us know how you’d like to serve."
            href={site.portals.volunteerFormUrl}
          />
        )}

        {(!hasPrayerForm || !hasContactForm || !hasVolunteerForm) && (
          <Card
            title="Other requests"
            description="If you don’t see a form you need, contact us and we’ll help."
            href="/connect/contact"
          />
        )}
      </CardGrid>

      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        {hasPrayerForm && (
          <Button href={site.portals.prayerFormUrl} external variant="secondary">Open prayer form</Button>
        )}
        {hasVolunteerForm && (
          <Button href={site.portals.volunteerFormUrl} external variant="secondary">Open volunteer form</Button>
        )}
      </div>

      <p class="small muted" style="margin: var(--space-4) 0 0;">
        Privacy note: only share information you’re comfortable sharing with a church prayer/team inbox.
      </p>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/resources/[...id].astro">
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const resources = await getCollection('resources', ({ data }) => {
    return import.meta.env.PROD ? data.draft !== true : true;
  });

  return resources.map((resource) => ({
    params: { id: resource.id },
    props: { resource },
  }));
}

const { resource } = Astro.props;
const { Content } = await render(resource);

const fmt = new Intl.DateTimeFormat('en-US', {
  dateStyle: 'full',
  timeZone: 'America/New_York',
});
---

<BaseLayout title={resource.data.title} description={resource.data.summary}>
  <Hero title={resource.data.title} subtitle={resource.data.summary} />

  <section class="container stack">
    <div class="card stack" style="gap: 0.5rem;">
      <p class="muted" style="margin: 0;"><strong>Published:</strong> {fmt.format(resource.data.published)}</p>
      {resource.data.category && (
        <p class="muted" style="margin: 0;"><strong>Category:</strong> {resource.data.category}</p>
      )}

      {resource.data.attachmentUrl && (
        <p style="margin: 0;">
          <a class="link" href={resource.data.attachmentUrl}>Download / Open attachment</a>
        </p>
      )}

      {resource.data.externalUrl && (
        <p style="margin: 0;">
          <a class="link" href={resource.data.externalUrl} rel="noopener noreferrer">Open external link</a>
        </p>
      )}
    </div>

    <article class="card stack">
      <Content />
    </article>

    <p><a class="link" href="/resources/">← Back to Resources</a></p>
  </section>
</BaseLayout>
</file>

<file path="src/pages/resources/index.astro">
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import ContentCard from '../../components/content/ContentCard.astro';
import { getCollection } from 'astro:content';

const resources = await getCollection('resources', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
});

const latest = resources
  .sort((a, b) => b.data.published.valueOf() - a.data.published.valueOf())
  .slice(0, 15);

const fmt = new Intl.DateTimeFormat('en-US', { dateStyle: 'medium', timeZone: 'America/New_York' });
---

<BaseLayout title="Resources" description="Helpful links, forms, bulletins, and downloads.">
  <Hero title="Resources" subtitle="Downloads, forms, and helpful info." />

  <section class="container stack">
    <div class="grid--cards">
      <article class="card">
        <h3 style="margin: 0.25rem 0;">
          <a class="link" href="/search/">Search</a>
        </h3>
        <p class="muted" style="margin: 0;">Find resources, bulletins, and more.</p>
      </article>
      <article class="card">
        <h3 style="margin: 0.25rem 0;"><a class="link" href="/resources/bulletins/">Bulletins</a></h3>
        <p class="muted" style="margin: 0;">Weekly PDFs and archives.</p>
      </article>
      <article class="card">
        <h3 style="margin: 0.25rem 0;"><a class="link" href="/resources/forms/">Forms</a></h3>
        <p class="muted" style="margin: 0;">Requests, sign-ups, and contact info.</p>
      </article>
    </div>

    <h2 style="margin-top: 2.5rem;">Latest resources</h2>

    {latest.length === 0 ? (
      <p class="muted">No resources are published yet.</p>
    ) : (
      <div class="grid--cards">
        {latest.map((r) => (
          <ContentCard
            href={`/resources/${r.id}/`}
            title={r.data.title}
            summary={r.data.summary}
            meta={fmt.format(r.data.published)}
            tags={r.data.tags}
          />
        ))}
      </div>
    )}
  </section>
</BaseLayout>
</file>

<file path="src/pages/search/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/ui/Hero.astro";
import Search from "astro-pagefind/components/Search";
---

<BaseLayout title="Search" description="Search pages, resources, and bulletins.">
  <div class="stack">
    <Hero title="Search" subtitle="Search resources, bulletins, and site pages." />

    <section aria-label="Site search" class="card" style="padding: var(--space-4);">
      <Search
        id="site-search"
        className="pagefind-ui"
        uiOptions={{
          showImages: false,
          showSubResults: true,
          // Optional: display a hint under the search box
          placeholder: "Search the site…",
        }}
      />

      <details class="small muted" style="margin: var(--space-3) 0 0;">
        <summary>How search works</summary>
        <p style="margin: var(--space-2) 0 0;">
          Search runs in your browser using a static index generated at build time.
          Your search terms are not sent to the site server.
        </p>
      </details>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/pages/serve/index.astro">
---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PlaceholderPage from "../../components/PlaceholderPage.astro";
---

<BaseLayout title="Serve">
  <PlaceholderPage title="Serve" />
</BaseLayout>
</file>

<file path="src/pages/404.astro">
---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="Page not found">
  <h1>Page not found</h1>
  <p class="muted">We couldn’t find that page. Try one of these options:</p>

  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/media">Media</a></li>
    <li><a href="/give">Give</a></li>
    <li><a href="/connect">Connect</a></li>
  </ul>
</BaseLayout>
</file>

<file path="src/pages/index.astro">
---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/ui/Hero.astro";
import Schedule from "../components/ui/Schedule.astro";
import Card from "../components/ui/Card.astro";
import CardGrid from "../components/ui/CardGrid.astro";
import Banner from "../components/ui/Banner.astro";
import Button from "../components/ui/Button.astro";
import { site } from "../data/site";
---

<BaseLayout
  title={site.name}
  description="Service times, directions, and resources for Springfield Hispanic Seventh-day Adventist Church in Springfield, Massachusetts."
>
  <div class="stack">
    <Banner
      message="New here? Plan your first visit - we’d love to meet you."
      ctaLabel="Plan a visit"
      ctaHref="/connect/plan-a-visit"
    />

    <Hero
      title="Welcome"
      subtitle={`${site.shortName} is a local Seventh-day Adventist church in Springfield, MA. ${site.visit.languageNote}`}
      primaryCtaLabel="Plan a visit"
      primaryCtaHref="/connect/plan-a-visit"
      secondaryCtaLabel="Watch live"
      secondaryCtaHref="/media/live"
    />

    <section aria-labelledby="service-times">
      <h2 id="service-times" style="margin: 0;">Service times</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        Join us in person or online. Times below are the regular weekly schedule.
      </p>
      <div style="margin-top: var(--space-4);">
        <Schedule title="This week" items={site.schedule} />
      </div>
    </section>

    <section aria-labelledby="start-here">
      <h2 id="start-here" style="margin: 0;">Start here</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        If you’re visiting for the first time, these are the fastest ways to get the basics.
      </p>
      <CardGrid columns={3}>
        <Card
          title="Plan a Visit"
          description="Directions, what to expect, and service times."
          href="/connect/plan-a-visit"
        />
        <Card
          title="Worship With Us"
          description="Learn what Sabbath School and Worship Service are like."
          href="/connect/worship-with-us"
        />
        <Card
          title="About"
          description="Who we are, what we believe, and how to connect."
          href="/connect/about"
        />
        <Card
          title="Contact"
          description="Address, phone, email, and reliable ways to reach us."
          href="/connect/contact"
        />
        <Card
          title="Prayer"
          description="Submit a prayer request or ask for follow-up."
          href="/connect/prayer"
        />
        <Card
          title="Give"
          description="Support the mission of the church online."
          href="/give"
        />
      </CardGrid>
    </section>

    <section aria-labelledby="find-us" class="card">
      <h2 id="find-us" style="margin-top: 0;">Find us</h2>
      <p class="muted" style="margin: var(--space-2) 0 0;">
        <a href={site.contact.mapsUrl} target="_blank" rel="noopener noreferrer">{site.contact.address}</a>
      </p>
      <p class="small muted" style="margin: var(--space-2) 0 0;">
        {site.visit.parkingNote}
      </p>
      <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3); flex-wrap: wrap;">
        <Button href={site.contact.mapsUrl} external variant="secondary">Open in Maps</Button>
        <Button href="/connect/contact" variant="ghost">Contact</Button>
      </div>
    </section>
  </div>
</BaseLayout>
</file>

<file path="src/styles/global.css">
@import "./tokens.css";

:root {
  color-scheme: light;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  color: var(--color-text);
  background: var(--color-bg);
}

a {
  color: inherit;
}

a:focus-visible,
button:focus-visible,
summary:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
}

.container {
  width: min(var(--container-max), calc(100% - var(--container-pad)));
  margin: 0 auto;
}

.main {
  padding: var(--space-8) 0;
}

.small {
  font-size: var(--font-size-0);
}

.muted {
  color: var(--color-text-muted);
}

.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-4);
  padding: var(--space-6);
  box-shadow: var(--shadow-1);
}

.stack {
  display: grid;
  gap: var(--space-6);
}

.grid {
  display: grid;
  gap: var(--space-4);
}

.grid--cards {
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.skip-link {
  position: absolute;
  top: var(--space-2);
  left: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-2);
  text-decoration: none;
  transform: translateY(-200%);
  transition: transform 120ms ease;
  z-index: 999;
}

.skip-link:focus {
  transform: translateY(0);
}

.header {
  border-bottom: 1px solid var(--color-border);
  background: var(--color-surface);
}

.header__inner {
  padding: var(--space-4) 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
}

.header__brand a {
  text-decoration: none;
  font-weight: 800;
}

.header__desktop {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.nav {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  align-items: center;
}

.nav a {
  text-decoration: none;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-2);
}

.nav a:hover {
  background: var(--color-gray-50);
}

.nav a[aria-current="page"] {
  background: var(--color-gray-100);
}

.header__mobile {
  display: none;
}

.menu {
  position: relative;
}

.menu summary {
  list-style: none;
  cursor: pointer;
  user-select: none;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-2);
  border: 1px solid var(--color-border);
  background: var(--color-surface);
}

.menu summary::-webkit-details-marker {
  display: none;
}

.menu[open] summary {
  background: var(--color-gray-50);
}

.menu__panel {
  position: absolute;
  right: 0;
  margin-top: var(--space-2);
  width: min(92vw, 360px);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-3);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);
  padding: var(--space-4);
  display: grid;
  gap: var(--space-4);
  z-index: 50;
}

.menu__sectionTitle {
  font-size: var(--font-size-0);
  color: var(--color-text-muted);
  margin: 0 0 var(--space-2);
}

.footer {
  border-top: 1px solid var(--color-border);
  background: var(--color-surface);
}

.footer__inner {
  padding: var(--space-8) 0;
  display: grid;
  gap: var(--space-6);
}

.footer__cols {
  display: grid;
  gap: var(--space-6);
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.footer__title {
  font-weight: 800;
  margin: 0 0 var(--space-2);
}

.footer__list {
  margin: 0;
  padding-left: 1.1rem;
}

@media (max-width: 860px) {
  .header__desktop {
    display: none;
  }

  .header__mobile {
    display: block;
  }

  .main {
    padding: var(--space-6) 0;
  }
}
</file>

<file path="src/styles/tokens.css">
:root {
  /* Primitive tokens */
  --color-white: #ffffff;
  --color-black: #0b0f17;
  --color-gray-50: #f7f8fa;
  --color-gray-100: #eef0f4;
  --color-gray-200: #dfe3ea;
  --color-gray-500: #6b7280;
  --color-blue-600: #1d4ed8;
  --color-blue-700: #1e40af;

  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;

  --radius-2: 0.5rem;
  --radius-3: 0.75rem;
  --radius-4: 1rem;

  --font-size-0: 0.95rem;
  --font-size-1: 1rem;
  --font-size-2: 1.125rem;
  --font-size-3: 1.35rem;
  --font-size-4: 1.8rem;
  --font-size-5: 2.25rem;

  --shadow-1: 0 1px 2px rgba(0, 0, 0, 0.06);

  /* Semantic tokens */
  --color-bg: var(--color-white);
  --color-surface: var(--color-white);
  --color-surface-muted: var(--color-gray-50);
  --color-text: var(--color-black);
  --color-text-muted: var(--color-gray-500);
  --color-border: rgba(11, 15, 23, 0.14);
  --color-primary: var(--color-blue-600);
  --color-primary-hover: var(--color-blue-700);
  --color-focus: rgba(29, 78, 216, 0.45);

  --container-max: 1100px;
  --container-pad: var(--space-8);
}

@media (max-width: 720px) {
  :root {
    --container-pad: var(--space-6);
  }
}
</file>

<file path="src/content.config.ts">
import { glob } from "astro/loaders";
import { z } from "astro/zod";
import { defineCollection } from "astro:content";

const shared = z.object({
  title: z.string(),
  summary: z.string(),
  tags: z.array(z.string()).optional(),
  draft: z.boolean().optional(),
  heroImage: z.string().optional(),
});

const events = defineCollection({
  loader: glob({ pattern: "**/[^_]*.md", base: "./src/content/events" }),
  schema: shared.extend({
    start: z.coerce.date(),
    end: z.coerce.date().optional(),
    locationName: z.string().optional(),
    address: z.string().optional(),
    registrationUrl: z.string().optional(), // allow relative or absolute
  }),
});

const ministries = defineCollection({
  loader: glob({ pattern: "**/[^_]*.md", base: "./src/content/ministries" }),
  schema: shared.extend({
    leaderName: z.string().optional(),
    meetingTime: z.string().optional(),
    contactEmail: z.string().optional(),
    contactPhone: z.string().optional(),
    ctaLabel: z.string().optional(),
    ctaHref: z.string().optional(),
  }),
});

const resources = defineCollection({
  loader: glob({ pattern: "**/[^_]*.md", base: "./src/content/resources" }),
  schema: shared.extend({
    published: z.coerce.date(),
    category: z.string().optional(),
    attachmentUrl: z.string().optional(), // allow relative or absolute
    externalUrl: z.string().optional(),
  }),
});

const bulletins = defineCollection({
  loader: glob({ pattern: "**/[^_]*.md", base: "./src/content/bulletins" }),
  schema: z.object({
    title: z.string(),
    summary: z.string().optional(),
    date: z.coerce.date(),
    pdfUrl: z.string(), // your content uses /bulletins/... :contentReference[oaicite:4]{index=4}
    draft: z.boolean().optional(),
  }),
});

export const collections = { events, ministries, resources, bulletins };
</file>

<file path="test-results/tests-e2e-phase-6-search-a-7d627-s-results-for-a-common-term/error-context.md">
# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - link "Skip to content" [ref=e2] [cursor=pointer]:
    - /url: "#main-content"
  - banner [ref=e4]:
    - generic [ref=e5]:
      - generic [ref=e6]:
        - link "Springfield Hispanic SDA" [ref=e7] [cursor=pointer]:
          - /url: /
        - generic [ref=e8]: Site under construction (MVP)
      - generic "Header navigation" [ref=e9]:
        - navigation "Primary navigation" [ref=e10]:
          - link "Home" [ref=e11] [cursor=pointer]:
            - /url: /
          - link "Connect" [ref=e12] [cursor=pointer]:
            - /url: /connect
          - link "Join" [ref=e13] [cursor=pointer]:
            - /url: /join
          - link "Ministries" [ref=e14] [cursor=pointer]:
            - /url: /ministries
          - link "Resources" [ref=e15] [cursor=pointer]:
            - /url: /resources
          - link "Serve" [ref=e16] [cursor=pointer]:
            - /url: /serve
          - link "Media" [ref=e17] [cursor=pointer]:
            - /url: /media
        - navigation "Quick actions" [ref=e18]:
          - link "Watch Live" [ref=e19] [cursor=pointer]:
            - /url: /media/live
          - link "Give" [ref=e20] [cursor=pointer]:
            - /url: /give
          - link "Prayer" [ref=e21] [cursor=pointer]:
            - /url: /connect/prayer
          - link "Bulletins" [ref=e22] [cursor=pointer]:
            - /url: /resources/bulletins
          - link "Forms" [ref=e23] [cursor=pointer]:
            - /url: /resources/forms
  - main [ref=e24]:
    - generic [ref=e25]:
      - generic [ref=e28]:
        - heading "Search" [level=1] [ref=e29]
        - paragraph [ref=e30]: Search resources, bulletins, and site pages.
      - region "Site search" [ref=e31]:
        - search "Search this site" [ref=e34]:
          - textbox "Search" [ref=e35]
          - button "Clear"
        - group [ref=e36]:
          - generic "How search works" [ref=e37]
  - contentinfo [ref=e39]:
    - generic [ref=e40]:
      - generic [ref=e41]:
        - generic [ref=e42]:
          - generic [ref=e43]: Springfield Hispanic SDA Church
          - paragraph [ref=e44]:
            - link "124 Putnam Cir, Springfield, MA 01104" [ref=e45] [cursor=pointer]:
              - /url: https://www.google.com/maps?q=124+Putnam+Cir,+Springfield,+MA+01104
        - generic [ref=e46]:
          - generic [ref=e47]: Contact
          - list [ref=e48]:
            - listitem [ref=e49]:
              - link "(413) 788-9130" [ref=e50] [cursor=pointer]:
                - /url: tel:4137889130
            - listitem [ref=e51]:
              - link "info@example.com" [ref=e52] [cursor=pointer]:
                - /url: mailto:info@example.com
            - listitem [ref=e53]:
              - link "Contact page" [ref=e54] [cursor=pointer]:
                - /url: /connect/contact
        - generic [ref=e55]:
          - generic [ref=e56]: Service times
          - list [ref=e57]:
            - listitem [ref=e58]:
              - strong [ref=e59]: "Sabbath School:"
              - text: Saturday - 9:30 AM
            - listitem [ref=e60]:
              - strong [ref=e61]: "Worship Service:"
              - text: Saturday - 11:00 AM
            - listitem [ref=e62]:
              - strong [ref=e63]: "Prayer Meeting:"
              - text: Wednesday - 7:30 PM
        - generic [ref=e64]:
          - generic [ref=e65]: Links
          - generic "Footer links" [ref=e66]:
            - link "Give" [ref=e67] [cursor=pointer]:
              - /url: /give
            - link "Watch Live" [ref=e68] [cursor=pointer]:
              - /url: /media/live
            - link "Bulletins" [ref=e69] [cursor=pointer]:
              - /url: /resources/bulletins
            - link "Forms" [ref=e70] [cursor=pointer]:
              - /url: /resources/forms
            - link "Search" [ref=e71] [cursor=pointer]:
              - /url: /search
            - link "Privacy" [ref=e72] [cursor=pointer]:
              - /url: /privacy
          - generic "Social links" [ref=e73]:
            - link "YouTube" [ref=e74] [cursor=pointer]:
              - /url: https://www.youtube.com/@A7DON
            - link "Facebook" [ref=e75] [cursor=pointer]:
              - /url: https://www.facebook.com/SpringfieldIASD/
      - generic [ref=e76]: © 2025 Springfield Hispanic SDA Church
  - generic [ref=e79]:
    - button "Menu" [ref=e80]:
      - img [ref=e82]
      - generic: Menu
    - button "Inspect" [ref=e86]:
      - img [ref=e88]
      - generic: Inspect
    - button "Audit" [ref=e90]:
      - img [ref=e92]
      - generic: Audit
    - button "Settings" [ref=e95]:
      - img [ref=e97]
      - generic: Settings
```
</file>

<file path="test-results/tests-e2e-phase-6-search-and-analytics-Search-page-loads/error-context.md">
# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - link "Skip to content" [ref=e2] [cursor=pointer]:
    - /url: "#main-content"
  - banner [ref=e4]:
    - generic [ref=e5]:
      - generic [ref=e6]:
        - link "Springfield Hispanic SDA" [ref=e7] [cursor=pointer]:
          - /url: /
        - generic [ref=e8]: Site under construction (MVP)
      - generic "Header navigation" [ref=e9]:
        - navigation "Primary navigation" [ref=e10]:
          - link "Home" [ref=e11] [cursor=pointer]:
            - /url: /
          - link "Connect" [ref=e12] [cursor=pointer]:
            - /url: /connect
          - link "Join" [ref=e13] [cursor=pointer]:
            - /url: /join
          - link "Ministries" [ref=e14] [cursor=pointer]:
            - /url: /ministries
          - link "Resources" [ref=e15] [cursor=pointer]:
            - /url: /resources
          - link "Serve" [ref=e16] [cursor=pointer]:
            - /url: /serve
          - link "Media" [ref=e17] [cursor=pointer]:
            - /url: /media
        - navigation "Quick actions" [ref=e18]:
          - link "Watch Live" [ref=e19] [cursor=pointer]:
            - /url: /media/live
          - link "Give" [ref=e20] [cursor=pointer]:
            - /url: /give
          - link "Prayer" [ref=e21] [cursor=pointer]:
            - /url: /connect/prayer
          - link "Bulletins" [ref=e22] [cursor=pointer]:
            - /url: /resources/bulletins
          - link "Forms" [ref=e23] [cursor=pointer]:
            - /url: /resources/forms
  - main [ref=e24]:
    - generic [ref=e25]:
      - generic [ref=e28]:
        - heading "Search" [level=1] [ref=e29]
        - paragraph [ref=e30]: Search resources, bulletins, and site pages.
      - region "Site search" [ref=e31]:
        - search "Search this site" [ref=e34]:
          - textbox "Search" [ref=e35]
          - button "Clear"
        - group [ref=e36]:
          - generic "How search works" [ref=e37]
  - contentinfo [ref=e39]:
    - generic [ref=e40]:
      - generic [ref=e41]:
        - generic [ref=e42]:
          - generic [ref=e43]: Springfield Hispanic SDA Church
          - paragraph [ref=e44]:
            - link "124 Putnam Cir, Springfield, MA 01104" [ref=e45] [cursor=pointer]:
              - /url: https://www.google.com/maps?q=124+Putnam+Cir,+Springfield,+MA+01104
        - generic [ref=e46]:
          - generic [ref=e47]: Contact
          - list [ref=e48]:
            - listitem [ref=e49]:
              - link "(413) 788-9130" [ref=e50] [cursor=pointer]:
                - /url: tel:4137889130
            - listitem [ref=e51]:
              - link "info@example.com" [ref=e52] [cursor=pointer]:
                - /url: mailto:info@example.com
            - listitem [ref=e53]:
              - link "Contact page" [ref=e54] [cursor=pointer]:
                - /url: /connect/contact
        - generic [ref=e55]:
          - generic [ref=e56]: Service times
          - list [ref=e57]:
            - listitem [ref=e58]:
              - strong [ref=e59]: "Sabbath School:"
              - text: Saturday - 9:30 AM
            - listitem [ref=e60]:
              - strong [ref=e61]: "Worship Service:"
              - text: Saturday - 11:00 AM
            - listitem [ref=e62]:
              - strong [ref=e63]: "Prayer Meeting:"
              - text: Wednesday - 7:30 PM
        - generic [ref=e64]:
          - generic [ref=e65]: Links
          - generic "Footer links" [ref=e66]:
            - link "Give" [ref=e67] [cursor=pointer]:
              - /url: /give
            - link "Watch Live" [ref=e68] [cursor=pointer]:
              - /url: /media/live
            - link "Bulletins" [ref=e69] [cursor=pointer]:
              - /url: /resources/bulletins
            - link "Forms" [ref=e70] [cursor=pointer]:
              - /url: /resources/forms
            - link "Search" [ref=e71] [cursor=pointer]:
              - /url: /search
            - link "Privacy" [ref=e72] [cursor=pointer]:
              - /url: /privacy
          - generic "Social links" [ref=e73]:
            - link "YouTube" [ref=e74] [cursor=pointer]:
              - /url: https://www.youtube.com/@A7DON
            - link "Facebook" [ref=e75] [cursor=pointer]:
              - /url: https://www.facebook.com/SpringfieldIASD/
      - generic [ref=e76]: © 2025 Springfield Hispanic SDA Church
  - generic [ref=e79]:
    - button "Menu" [ref=e80]:
      - img [ref=e82]
      - generic: Menu
    - button "Inspect" [ref=e86]:
      - img [ref=e88]
      - generic: Inspect
    - button "Audit" [ref=e90]:
      - img [ref=e92]
      - generic: Audit
    - button "Settings" [ref=e95]:
      - img [ref=e97]
      - generic: Settings
```
</file>

<file path="test-results/.last-run.json">
{
  "status": "failed",
  "failedTests": [
    "b49cc240815506ca5ee4-3be28e09240e2e277609",
    "b49cc240815506ca5ee4-12511c2086ca4cdfdfd4"
  ]
}
</file>

<file path="tests/e2e/content-collections.spec.ts">
import { expect, test } from '@playwright/test';

test('Events hub loads', async ({ page }) => {
  await page.goto('/events/');
  await expect(page.getByRole('heading', { name: 'Events' })).toBeVisible();
});

test('Ministries hub loads', async ({ page }) => {
  await page.goto('/ministries/');
  await expect(page.getByRole('heading', { name: 'Ministries' })).toBeVisible();
});

test('Resources hub loads', async ({ page }) => {
  await page.goto('/resources/');
  await expect(page.getByRole('heading', { name: 'Resources', exact: true })).toBeVisible();
});
</file>

<file path="tests/e2e/phase-5-media-portals.spec.ts">
import { expect, test } from "@playwright/test";

test("Media hub loads", async ({ page }) => {
  await page.goto("/media/");
  await expect(page.getByRole("heading", { name: "Media", exact: true })).toBeVisible();

  const quickLinks = page.getByRole("region", { name: "Quick links" });
  await expect(quickLinks.getByRole("link", { name: "Watch Live", exact: true })).toBeVisible();
  await expect(quickLinks.getByRole("link", { name: "Videos", exact: true })).toBeVisible();
});

test("Live page loads", async ({ page }) => {
  await page.goto("/media/live/");
  await expect(page.getByRole("heading", { name: "Watch Live", exact: true })).toBeVisible();
  await expect(page.getByRole("link", { name: "Open YouTube channel", exact: true })).toBeVisible();
});

test("Videos page loads", async ({ page }) => {
  await page.goto("/media/videos/");
  await expect(page.getByRole("heading", { name: "Videos", exact: true })).toBeVisible();
  await expect(page.getByRole("link", { name: "Browse on YouTube", exact: true })).toBeVisible();
});

test("Bulletins page loads", async ({ page }) => {
  await page.goto("/resources/bulletins/");
  await expect(page.getByRole("heading", { name: "Bulletins", exact: true })).toBeVisible();
});

test("Forms directory loads", async ({ page }) => {
  await page.goto("/resources/forms/");
  await expect(page.getByRole("heading", { name: "Forms", exact: true })).toBeVisible();
});
</file>

<file path="tests/e2e/phase-6-search-and-analytics.spec.ts">
import { expect, test } from "playwright/test";

test("Search page loads", async ({ page }) => {
  await page.goto("/search/");
  await expect(page.getByRole("heading", { name: "Search", exact: true })).toBeVisible();

  // Pagefind UI should render a search box
  const input = page.getByRole("searchbox");
  await expect(input).toBeVisible();
});

test("Search returns results for a common term", async ({ page }) => {
  // This test is intentionally loose to reduce flakiness.
  // It just verifies that results can render.
  await page.goto("/search/");

  const input = page.getByRole("searchbox");
  await input.fill("resources");

  // Pagefind UI renders results asynchronously.
  // We wait for any result region/element to appear.
  await page.waitForTimeout(500);

  // If your Pagefind UI renders a result list with a known selector later,
  // replace this with a stricter expectation.
  await expect(page.locator("body")).toContainText(/result|Results|resources/i);
});
</file>

<file path=".env.example">
# Future use (Phase 5+)
# PUBLIC_SITE_URL=https://example.com
PUBLIC_CF_ANALYTICS_TOKEN=
</file>

<file path=".gitignore">
# build output
dist/

# generated types
.astro/

# dependencies
node_modules/

# logs
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# environment variables
.env
.env.production

# macOS-specific files
.DS_Store

# jetbrains setting folder
.idea/
</file>

<file path="astro.config.mjs">
import pagefind from "astro-pagefind";
import { defineConfig, passthroughImageService } from "astro/config";

export default defineConfig({
  output: "static",
  integrations: [pagefind()],
  image: {
    service: passthroughImageService(),
  },
  vite: {
    ssr: {
      noExternal: ["@fontsource-variable/inter"],
    },
  },
});
</file>

<file path="package.json">
{
  "name": "web",
  "type": "module",
  "version": "0.0.1",
  "scripts": {
    "dev": "astro dev",
    "build": "astro build",
    "preview": "astro preview",
    "astro": "astro",
    "check": "astro check",
    "test:e2e": "npm run build && playwright test",
    "test:e2e:ui": "playwright test --ui"
  },
  "dependencies": {
    "@astrojs/check": "0.9.6",
    "astro": "^5.16.6",
    "astro-pagefind": "1.8.5",
    "typescript": "5.9.3"
  },
  "devDependencies": {
    "@playwright/test": "1.57.0"
  }
}
</file>

<file path="playwright.config.ts">
import { defineConfig } from '@playwright/test';

export default defineConfig({
  use: {
    baseURL: 'http://localhost:4321',
  },
  webServer: {
    command: 'npm run dev -- --host 127.0.0.1 --port 4321',
    url: 'http://127.0.0.1:4321',
    reuseExistingServer: !process.env.CI,
    timeout: 120_000,
  },
});
</file>

<file path="README.md">
# Astro Starter Kit: Basics

```sh
npm create astro@latest -- --template basics
```

> 🧑‍🚀 **Seasoned astronaut?** Delete this file. Have fun!

## 🚀 Project Structure

Inside of your Astro project, you'll see the following folders and files:

```text
/
├── public/
│   └── favicon.svg
├── src
│   ├── assets
│   │   └── astro.svg
│   ├── components
│   │   └── Welcome.astro
│   ├── layouts
│   │   └── Layout.astro
│   └── pages
│       └── index.astro
└── package.json
```

To learn more about the folder structure of an Astro project, refer to [our guide on project structure](https://docs.astro.build/en/basics/project-structure/).

## 🧞 Commands

All commands are run from the root of the project, from a terminal:

| Command                   | Action                                           |
| :------------------------ | :----------------------------------------------- |
| `npm install`             | Installs dependencies                            |
| `npm run dev`             | Starts local dev server at `localhost:4321`      |
| `npm run build`           | Build your production site to `./dist/`          |
| `npm run preview`         | Preview your build locally, before deploying     |
| `npm run astro ...`       | Run CLI commands like `astro add`, `astro check` |
| `npm run astro -- --help` | Get help using the Astro CLI                     |

## 👀 Want to learn more?

Feel free to check [our documentation](https://docs.astro.build) or jump into our [Discord server](https://astro.build/chat).
</file>

<file path="tsconfig.json">
{
  "extends": "astro/tsconfigs/strict",
  "compilerOptions": {
    "resolveJsonModule": true
  },
  "include": [".astro/types.d.ts", "**/*"],
  "exclude": ["dist"]
}
</file>

</files>
