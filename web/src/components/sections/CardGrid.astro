---
import Card from "../ui/Card.astro";
import Grid from "../ui/CardGrid.astro";

type CardItem = {
  title: string;
  description?: string;
  href?: string;
};

type Props = {
  title?: string;
  subtitle?: string;
  cards: CardItem[];
  columns?: number;
  columnsMin?: number;
  class?: string;
};

const {
  title,
  subtitle,
  cards,
  columns,
  columnsMin = 240,
  class: className = "",
} = Astro.props;
const sectionClasses = ["stack", className].filter(Boolean).join(" ");
---

<section class={sectionClasses}>
  {(title || subtitle) && (
    <header class="section-heading">
      {title && <h2 class="section-heading__title">{title}</h2>}
      {subtitle && <p class="section-heading__subtitle">{subtitle}</p>}
    </header>
  )}

  <Grid columns={columns} columnsMin={columnsMin}>
    {cards.map((c) => (
      <Card title={c.title} description={c.description} href={c.href} />
    ))}
  </Grid>
</section>
