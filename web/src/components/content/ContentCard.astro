---
export interface Props {
  href: string;
  title: string;
  summary: string;
  meta?: string;
  tags?: string[];
}

const { href, title, summary, meta, tags } = Astro.props;
const safeTags = tags ?? [];
---

<a class="card card--link stack--tight" href={href}>
  {meta && <p class="muted small">{meta}</p>}
  <h3>
    <span class="link">{title}</span>
  </h3>
  <p class="muted">{summary}</p>

  {safeTags.length > 0 && (
    <ul class="tags" aria-label="Tags">
      {safeTags.map((t) => (
        <li class="tag">{t}</li>
      ))}
    </ul>
  )}
</a>

<style>
  .tags {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0;
    margin: 0.75rem 0 0;
  }
  .tag {
    font-size: 0.85rem;
    padding: 0.2rem 0.55rem;
    border-radius: 999px;
    border: 1px solid var(--color-border);
    background: color-mix(in oklab, var(--color-surface) 90%, white 10%);
  }
</style>
