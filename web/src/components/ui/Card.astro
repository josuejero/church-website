---
type Props = {
  title: string;
  description?: string;
  href?: string;
  variant?: "standard" | "featured";
};

const { title, description, href, variant = "standard" } = Astro.props as Props;
const hasDescription = Boolean(description?.trim?.());
const classes = [
  "card",
  variant === "featured" ? "card--featured" : null,
  href ? "card--link" : "",
]
  .filter(Boolean)
  .join(" ");
---

{
  href ? (
    <a class={classes} href={href} aria-label={title}>
      <div class="card__body">
        <div>
          <div class="card__title">{title}</div>
          {hasDescription && <p class="card__desc">{description}</p>}
        </div>
        <span class="card__cta link" aria-hidden="true">
          Learn more &rarr;
        </span>
      </div>
    </a>
  ) : (
    <div class={classes}>
      <div class="card__body">
        <div>
          <div class="card__title">{title}</div>
          {hasDescription && <p class="card__desc">{description}</p>}
        </div>
      </div>
    </div>
  )
}

<style>
  .card__body {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    min-height: var(--card-min-height, auto);
    justify-content: space-between;
  }

  .card__title {
    font-weight: 750;
    font-size: clamp(1.12rem, 1.03rem + 0.28vw, 1.24rem);
    line-height: 1.3;
    margin-bottom: var(--space-2);
  }

  .card__desc {
    margin: 0;
    font-size: var(--font-size-1);
    line-height: 1.62;
    color: var(--color-text-muted);
  }

  .card__cta {
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    width: fit-content;
  }
</style>
