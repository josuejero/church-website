---
import Button from "./Button.astro";

type BannerTone = "info" | "warn";

type Props = {
  message: string;
  ctaLabel?: string;
  ctaHref?: string;
  tone?: BannerTone;
  ctaExternal?: boolean;
};

const {
  message,
  ctaLabel,
  ctaHref,
  tone = "info",
  ctaExternal = false
} = Astro.props as Props;

const toneClass = tone === "warn" ? "banner--warn" : "banner--info";
---

<section class={`banner ${toneClass}`} role="status">
  <div class="banner__inner">
    <div class="banner__msg">{message}</div>
    {ctaLabel && ctaHref ? (
      <Button href={ctaHref} variant="ghost" size="sm" external={ctaExternal}>
        {ctaLabel}
      </Button>
    ) : null}
  </div>
</section>

<style>
  .banner {
    border: 1px solid transparent;
    border-radius: var(--radius-3);
    padding: var(--space-3) var(--space-4);
    background: var(--color-surface-2);
  }

  .banner--info {
    background: var(--color-info-bg);
    border-color: var(--color-info-border);
  }

  .banner--warn {
    background: var(--color-warn-bg);
    border-color: var(--color-warn-border);
  }

  .banner__inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    flex-wrap: wrap;
  }

  .banner__msg {
    font-weight: 800;
  }
</style>
