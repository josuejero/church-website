---
import Button from "./Button.astro";

type Props = {
  title: string;
  subtitle?: string;
  primaryCtaLabel?: string;
  primaryCtaHref?: string;
  secondaryCtaLabel?: string;
  secondaryCtaHref?: string;
  className?: string;
};

const {
  title,
  subtitle,
  primaryCtaLabel,
  primaryCtaHref,
  secondaryCtaLabel,
  secondaryCtaHref,
  className = ""
} = Astro.props as Props;
const hasMeta = Boolean(Astro.slots?.meta);
const rootClass = ["hero", "card", className].filter(Boolean).join(" ");
---

<section class={rootClass}>
  <div class="hero__inner">
    <div>
      <h1 class="hero__title">{title}</h1>
      {subtitle && <p class="hero__subtitle muted">{subtitle}</p>}
    </div>

    {hasMeta ? (
      <div class="hero__meta">
        <slot name="meta" />
      </div>
    ) : null}

    {(primaryCtaLabel && primaryCtaHref) || (secondaryCtaLabel && secondaryCtaHref) ? (
      <div class="hero__actions">
        {primaryCtaLabel && primaryCtaHref && (
          <Button href={primaryCtaHref} variant="primary">{primaryCtaLabel}</Button>
        )}
        {secondaryCtaLabel && secondaryCtaHref && (
          <Button href={secondaryCtaHref} variant="secondary">{secondaryCtaLabel}</Button>
        )}
      </div>
    ) : null}
  </div>
</section>

<style>
  .hero__inner {
    display: grid;
    gap: var(--space-4);
  }

  .hero__title {
    margin: 0;
    font-size: clamp(2.4rem, 1.8rem + 2.8vw, 3.5rem);
    line-height: 1.15;
  }

  .hero__subtitle {
    margin: var(--space-2) 0 0;
    font-size: clamp(1.05rem, 0.95rem + 0.7vw, 1.4rem);
  }

  .hero__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
  }

  .hero__meta {
    display: grid;
    gap: var(--space-4);
    margin-top: var(--space-4);
  }

  .hero__meta-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
  }

  .hero__meta-label {
    margin: 0;
    font-size: 0.85rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--color-muted);
  }

  .hero__meta-value {
    margin: 0;
    font-size: 0.95rem;
  }

  .hero__meta-link {
    font-weight: 600;
  }

  .hero__meta-leader {
    font-weight: 500;
  }

  .hero__meta-email {
    font-size: 0.85rem;
    color: var(--color-muted);
  }

  @media (min-width: 720px) {
    .hero__meta {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }
  }

  .hero {
    max-width: min(560px, 100%);
    margin: 0;
    padding: clamp(1.25rem, 1rem + 0.5vw, 1.75rem);
    align-self: flex-start;
  }

  @media (max-width: 720px) {
    .hero {
      padding: var(--space-5);
    }
  }
</style>
