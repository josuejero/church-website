---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";

const prayerFormUrl = site.portals?.prayerFormUrl;
const hasPrayerForm = Boolean(prayerFormUrl && prayerFormUrl !== "TBD");
---

<BaseLayout title="Prayer Request" description={`Submit a prayer request to ${site.name}.`}>
  <div class="stack">
    <h1>Prayer Request</h1>

    <section class="card stack">
      <h2>How can we pray for you?</h2>
      <p class="muted">
        We believe prayer matters. Share a request and our prayer team will pray with you.
      </p>

      <div class="cluster">
        {hasPrayerForm ? (
          <Button href={prayerFormUrl} external variant="secondary">Submit Prayer Request</Button>
        ) : (
          <Button href={`mailto:${site.contact.email}?subject=Prayer%20Request`} variant="secondary">
            Email a Prayer Request
          </Button>
        )}
        <Button href="/connect/contact" variant="tertiary">Contact</Button>
      </div>

      <p class="small muted">
        Please avoid including sensitive information.
      </p>
    </section>
  </div>
</BaseLayout>
