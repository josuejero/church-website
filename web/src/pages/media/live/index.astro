---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import YouTubeEmbed from "../../../components/ui/YouTubeEmbed.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";

const hasEmbed = site.portals.youtubeLiveEmbedUrl && site.portals.youtubeLiveEmbedUrl !== "TBD";
const hasYouTube = site.portals.youtubeChannelUrl && site.portals.youtubeChannelUrl !== "TBD";
---

<BaseLayout title="Watch Live" description={`Watch ${site.shortName} live.`}>
  <div class="stack">
    <h1 style="margin: 0;">Watch Live</h1>

    {hasEmbed ? (
      <YouTubeEmbed
        title={`${site.shortName} Live`}
        embedUrl={site.portals.youtubeLiveEmbedUrl}
      />
    ) : (
      <section class="card">
        <h2 style="margin-top: 0;">Live stream coming soon</h2>
        <p class="muted">
          Set <code>portals.youtubeLiveEmbedUrl</code> in <code>src/data/site.ts</code>.
        </p>
      </section>
    )}

    {hasYouTube ? (
      <div>
        <Button href={site.portals.youtubeChannelUrl} external variant="secondary">
          Open YouTube channel
        </Button>
      </div>
    ) : (
      <p class="small muted">
        Add <code>portals.youtubeChannelUrl</code> in <code>src/data/site.ts</code>.
      </p>
    )}
  </div>
</BaseLayout>
