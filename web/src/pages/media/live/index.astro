---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import YouTubeEmbed from "../../../components/ui/YouTubeEmbed.astro";
import Button from "../../../components/ui/Button.astro";
import { site } from "../../../data/site";

const hasEmbed = site.portals.youtubeLiveEmbedUrl && site.portals.youtubeLiveEmbedUrl !== "TBD";
const hasYouTube = site.portals.youtubeChannelUrl && site.portals.youtubeChannelUrl !== "TBD";
---

<BaseLayout title="Watch Live" description={`Watch ${site.shortName} live.`}>
  <div class="stack">
    <h1>Watch Live</h1>

    {hasEmbed ? (
      <YouTubeEmbed
        title={`${site.shortName} Live`}
        embedUrl={site.portals.youtubeLiveEmbedUrl}
      />
    ) : (
      <section class="card stack--tight">
        <h2>Live stream coming soon</h2>
        <p class="muted">
          Weâ€™re preparing a live stream. Check back soon or join us in person.
        </p>
        <div class="cluster">
          <Button href="/connect/plan-a-visit" variant="secondary">Plan a Visit</Button>
          <Button href="/media/videos" variant="ghost">Watch Videos</Button>
        </div>
      </section>
    )}

    {hasYouTube ? (
      <Button href={site.portals.youtubeChannelUrl} external variant="secondary">
        Open YouTube channel
      </Button>
    ) : (
      <p class="small muted">
        YouTube channel coming soon.
      </p>
    )}
  </div>
</BaseLayout>
