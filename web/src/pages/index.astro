---
import BaseLayout from "../layouts/BaseLayout.astro";
import HeroBanner from "../components/sections/HeroBanner.astro";
import CardGrid from "../components/sections/CardGrid.astro";
import EventList from "../components/sections/EventList.astro";
import BudgetProgress from "../components/ui/BudgetProgress.astro";
import HighlightsScroller from "../components/ui/HighlightsScroller.astro";
import PrayerMeetingCallout from "../components/sections/PrayerMeetingCallout.astro";
import RecurringActivities from "../components/sections/RecurringActivities.astro";
import SermonHighlight from "../components/sections/SermonHighlight.astro";
import { Image } from "astro:assets";
import { site } from "../data/site";
import heroBg from "../assets/photos/first-springfield-exterior.png";
import bridgeDusk from "../assets/photos/bridge-dusk.jpg";
import churchLogo from "../assets/photos/church-logo-primary.jpg";
import { prayerMeetingDetails } from "../data/activities";
import Button from "../components/ui/Button.astro";
const ministryCards = [
  {
    title: "Children’s Ministry",
    description:
      "Storytelling, worship, choir, and family-focused programs that welcome every child and invite them to grow in Jesus.",
    href: "/ministries/children"
  },
  {
    title: "Pathfinders & Adventurers",
    description:
      "Two vibrant clubs filled with faith, service, and outdoor adventures for children and youth ready to discover purpose together.",
    href: "/ministries/pathfinders"
  },
  {
    title: "Adventist Community Services (ACS)",
    description:
      "Compassionate care, monthly meals, and community outreach that meet the whole person in Springfield and beyond.",
    href: "/ministries/adventist-community-services"
  },
  {
    title: "Music Ministry",
    description:
      "Choirs, praise teams, and instrumental ensembles that lead our worship with heartfelt, multicultural music.",
    href: "/ministries/music-ministry"
  },
  {
    title: "Social Ministry",
    description:
      "Hospitality, fellowship meals, and celebration events that help members and neighbors build deeper relationships.",
    href: "/ministries/social-ministry"
  },
  {
    title: "Sabbath School",
    description:
      "Classes for every age, grounded in Bible study and conversation—our final tile celebrates intentional discipleship each Sabbath.",
    href: "/ministries/sabbath-school"
  }
];
---

<BaseLayout title={site.name} description={site.description}>
  <section class="home-logo" aria-label="First Springfield Church logo">
    <Image
      src={churchLogo}
      alt="First Springfield Seventh-day Adventist Church logo"
      widths={[180, 280, 360]}
      sizes="(max-width: 720px) 60vw, 18vw"
      loading="eager"
      decoding="async"
      class="home-logo__img"
    />
  </section>

  <HeroBanner
    background={heroBg}
    objectPosition="50% 35%"
    title="Welcome"
    subtitle="A vibrant, multicultural Seventh-day Adventist church in the heart of Springfield, MA."
    primaryCtaLabel="Plan a Visit"
    primaryCtaHref="/connect/plan-a-visit"
    secondaryCtaLabel="Watch online"
    secondaryCtaHref="/media/live"
  >
    <div slot="meta" class="index-hero__meta">
      <p class="muted index-hero__meta-copy">
        Looking for a way to introduce yourself or let us know you’re interested in joining a ministry?
        Fill out a Connect Card and our team will follow up.
      </p>
      <Button href="/connect/connect-card" variant="secondary">Submit a Connect Card</Button>
    </div>
  </HeroBanner>

  <PrayerMeetingCallout meeting={prayerMeetingDetails} />
  <HighlightsScroller />
  <CardGrid
    title="Ministries"
    subtitle="Find a place to serve, grow, and celebrate with your church family."
    cards={ministryCards}
  />
  <section class="home-budget">
    <BudgetProgress />
  </section>

  <section class="photo-montage stack">
    <div class="photo-montage__intro">
      <p>
        We gather beneath the morning glow of the new entryway and cherish the calm of the familiar bridge-dusk view.
        Both scenes are part of First Springfield’s story; one bright and ready, the other still and reflective.
      </p>
    </div>

    <div class="photo-montage__grid">
      <article class="photo-card">
        <Image
          src={heroBg}
          alt="First Springfield Church exterior bathed in daylight"
          widths={[440, 660, 880, 1100]}
          sizes="(min-width: 960px) 40vw, 80vw"
          loading="lazy"
          decoding="async"
          class="photo-card__img"
        />
        <div class="photo-card__caption">
          <h3>Sunlit welcome</h3>
          <p>The new front exterior invites you with bright, clear light every day.</p>
        </div>
      </article>

      <article class="photo-card">
        <Image
          src={bridgeDusk}
          alt="The church and bridge illuminated at dusk"
          widths={[440, 660, 880, 1100]}
          sizes="(min-width: 960px) 40vw, 80vw"
          loading="lazy"
          decoding="async"
          class="photo-card__img"
        />
        <div class="photo-card__caption">
          <h3>Evening stillness</h3>
          <p>The bridge-dusk view keeps watch over Springfield as Sabbath approaches.</p>
        </div>
      </article>
    </div>
  </section>

  <CardGrid
    title="Get Connected"
    cards={[
      {
        title: "About Us",
        description: "Learn our mission and what we believe.",
        href: "/connect/about"
      },
      {
        title: "Adult Sabbath School",
        description: "Discover the mission, goals, and study focus of Adult Sabbath School.",
        href: "/ministries/adult-sabbath-school"
      },
      {
        title: "Worship With Us",
        description: "See when we meet and what to expect.",
        href: "/connect/worship-with-us"
      },
      {
        title: "Prayer Request",
        description: "Share a prayer request with our prayer team.",
        href: "/connect/prayer"
      }
    ]}
  />

  <EventList title="Upcoming Events" />

  <RecurringActivities />

  <SermonHighlight title="Latest Sermon" />
</BaseLayout>

<style>
  .home-logo {
    margin: var(--space-8) auto 0;
    display: flex;
    justify-content: center;
  }

  .home-logo__img {
    width: min(220px, 80vw);
    height: auto;
    display: block;
  }
  .photo-montage {
    gap: var(--space-4);
    margin: var(--space-10) 0;
  }

  .photo-montage__intro p {
    margin: 0;
    max-width: 50rem;
    font-size: 1rem;
    color: var(--color-text-muted);
  }

  .photo-montage__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--space-4);
    width: 100%;
  }

  .photo-card {
    border-radius: var(--radius-3);
    border: 1px solid var(--color-border);
    overflow: hidden;
    background: var(--color-surface);
    box-shadow: var(--shadow-2);
    display: flex;
    flex-direction: column;
  }

  .photo-card__img {
    height: 225px;
    width: 100%;
    object-fit: cover;
    display: block;
  }

  .photo-card__caption {
    padding: var(--space-3);
  }

  .photo-card__caption h3 {
    margin: 0 0 0.35rem;
    font-size: 1.1rem;
  }

  .photo-card__caption p {
    margin: 0;
    color: var(--color-text-muted);
  }

@media (max-width: 720px) {
  .photo-card__img {
    height: 200px;
  }
}

.index-hero__meta {
  margin-top: var(--space-4);
  display: grid;
  gap: var(--space-3);
}

  .index-hero__meta-copy {
    margin: 0;
  }

  .home-budget {
    max-width: 520px;
    width: min(520px, 100%);
    margin: 0 auto;
  }
</style>
