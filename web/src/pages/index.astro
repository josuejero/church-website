---
import BaseLayout from "../layouts/BaseLayout.astro";
import HeroBanner from "../components/sections/HeroBanner.astro";
import CardGrid from "../components/sections/CardGrid.astro";
import EventList from "../components/sections/EventList.astro";
import BudgetProgress from "../components/ui/BudgetProgress.astro";
import HighlightsScroller from "../components/ui/HighlightsScroller.astro";
import PrayerMeetingCallout from "../components/sections/PrayerMeetingCallout.astro";
import RecurringActivities from "../components/sections/RecurringActivities.astro";
import SermonHighlight from "../components/sections/SermonHighlight.astro";
import SectionHeading from "../components/ui/SectionHeading.astro";
import { Image } from "astro:assets";
import { site } from "../data/site";
import heroBg from "../assets/photos/first-springfield-exterior.png";
import bridgeDusk from "../assets/photos/bridge-dusk.jpg";
import { prayerMeetingDetails } from "../data/activities";
import Button from "../components/ui/Button.astro";
const ministryCards = [
  {
    title: "Children’s Ministry",
    description:
      "Storytelling, worship, choir, and family-focused programs that welcome every child and invite them to grow in Jesus.",
    href: "/ministries/children",
  },
  {
    title: "Pathfinders & Adventurers",
    description:
      "Two vibrant clubs filled with faith, service, and outdoor adventures for children and youth ready to discover purpose together.",
    href: "/ministries/pathfinders",
  },
  {
    title: "Adventist Community Services (ACS)",
    description:
      "Compassionate care, monthly meals, and community outreach that meet the whole person in Springfield and beyond.",
    href: "/ministries/adventist-community-services",
  },
  {
    title: "Women’s Ministry",
    description:
      "Prayer circles, retreats, and service projects that help women grow spiritually and encourage one another in Jesus.",
    href: "/ministries/womens-ministry",
  },
  {
    title: "Social Ministry",
    description:
      "Hospitality, fellowship meals, and celebration events that help members and neighbors build deeper relationships.",
    href: "/ministries/social-ministry",
  },
];
---

<BaseLayout title={site.name} description={site.description}>
  <HeroBanner
    background={heroBg}
    objectPosition="50% 35%"
    title="Welcome"
    subtitle="A vibrant, multicultural Seventh-day Adventist church in the heart of Springfield, MA."
    primaryCtaLabel="Plan a Visit"
    primaryCtaHref="/connect/plan-a-visit"
    secondaryCtaLabel="Watch online"
    secondaryCtaHref="/media/live"
  >
    <div slot="meta" class="index-hero__meta">
      <p class="muted index-hero__meta-copy">
        Looking for a way to introduce yourself or let us know you’re interested
        in joining a ministry? Fill out a Connect Card and our team will follow
        up.
      </p>
      <Button href="/connect/connect-card" variant="secondary"
        >Submit a Connect Card</Button
      >
    </div>
  </HeroBanner>

  <div class="home-grid">
    <div class="home-grid__section home-grid__section--prayer">
      <PrayerMeetingCallout meeting={prayerMeetingDetails} />
    </div>

    <div class="home-grid__section home-grid__section--highlights">
      <HighlightsScroller />
    </div>

    <div
      class="home-grid__section home-grid__cards home-grid__cards--ministries"
    >
      <CardGrid
        title="Ministries"
        subtitle="Find a place to serve, grow, and celebrate with your church family."
        cards={ministryCards}
        columnsMin={240}
      />
    </div>

    <section
      class="stack home-grid__section home-grid__section--giving home-grid__giving card card--featured"
      aria-label="Giving"
    >
      <SectionHeading
        title="Giving"
        subtitle="Support First Springfield’s ministries through faithful giving—every gift helps us worship, serve, and reach our neighbors."
      />

      <BudgetProgress embedded />

      <p class="home-grid__giving-copy">
        Your generosity keeps the lights on, feeds neighbors, and helps young
        disciples grow in faith. Thank you for partnering with us.
      </p>

      <div class="home-grid__giving-cta">
        <Button href="/give">Give online</Button>
        <Button href="/connect/contact" variant="secondary"
          >Connect with stewardship</Button
        >
      </div>
    </section>

    <section
      class="photo-montage stack home-grid__section home-grid__section--photo home-grid__photo"
    >
      <div class="photo-montage__intro stack--tight">
        <SectionHeading
          title="Life at First Springfield"
          subtitle="A bright welcome in daylight and a reflective pause at dusk, both part of our worship rhythm."
        />
        <p>
          We gather beneath the morning glow of the new entryway and cherish the
          calm of the familiar bridge-dusk view. Both scenes are part of First
          Springfield’s story; one bright and ready, the other still and
          reflective.
        </p>
      </div>

      <div class="photo-montage__grid">
        <article class="card photo-card">
          <Image
            src={heroBg}
            alt="First Springfield Church exterior bathed in daylight"
            widths={[440, 660, 880, 1100]}
            sizes="(min-width: 960px) 40vw, 80vw"
            loading="lazy"
            decoding="async"
            class="photo-card__img"
          />
          <div class="photo-card__caption">
            <h3>Sunlit welcome</h3>
            <p>
              The new front exterior invites you with bright, clear light every
              day.
            </p>
          </div>
        </article>

        <article class="card photo-card">
          <Image
            src={bridgeDusk}
            alt="The church and bridge illuminated at dusk"
            widths={[440, 660, 880, 1100]}
            sizes="(min-width: 960px) 40vw, 80vw"
            loading="lazy"
            decoding="async"
            class="photo-card__img"
          />
          <div class="photo-card__caption">
            <h3>Evening stillness</h3>
            <p>
              The bridge-dusk view keeps watch over Springfield as Sabbath
              approaches.
            </p>
          </div>
        </article>
      </div>
    </section>

    <div
      class="home-grid__section home-grid__cards home-grid__cards--connected"
    >
      <CardGrid
        title="Get Connected"
        subtitle="Take your next step in community, worship, and prayer."
        cards={[
          {
            title: "About Us",
            description: "Learn our mission and what we believe.",
            href: "/connect/about",
          },
          {
            title: "Adult Sabbath School",
            description:
              "Discover the mission, goals, and study focus of Adult Sabbath School.",
            href: "/ministries/adult-sabbath-school",
          },
          {
            title: "Worship With Us",
            description: "See when we meet and what to expect.",
            href: "/connect/worship-with-us",
          },
          {
            title: "Prayer Request",
            description: "Share a prayer request with our prayer team.",
            href: "/connect/prayer",
          },
        ]}
        columnsMin={220}
      />
    </div>

    <div class="home-grid__section home-grid__section--events">
      <EventList title="Upcoming Events" />
    </div>

    <div class="home-grid__section home-grid__section--sermon">
      <SermonHighlight title="Latest Sermon" />
    </div>

    <div class="home-grid__section home-grid__section--activities">
      <RecurringActivities />
    </div>
  </div>
</BaseLayout>

<style>
  .home-grid {
    width: 100%;
    margin: clamp(var(--space-8), 6vw, var(--space-12)) 0 0;
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    gap: clamp(var(--space-6), 2.3vw, var(--space-10));
    align-items: start;
  }

  .home-grid__section {
    grid-column: 1 / -1;
    min-width: 0;
  }

  .home-grid__cards {
    grid-column: 1 / -1;
  }

  .home-grid__cards :global(.grid) {
    gap: var(--space-5);
  }

  .home-grid__cards :global(.grid > *) {
    height: 100%;
  }

  .home-grid__section--prayer {
    grid-column: 1 / 8;
  }

  .home-grid__section--highlights {
    grid-column: 8 / -1;
  }

  .home-grid__section--giving {
    grid-column: 1 / 7;
  }

  .home-grid__section--photo {
    grid-column: 7 / -1;
  }

  .home-grid__section--events {
    grid-column: 1 / 7;
  }

  .home-grid__section--sermon {
    grid-column: 7 / -1;
  }

  .home-grid__giving {
    gap: var(--space-4);
    background:
      radial-gradient(
        130% 120% at 100% 0%,
        color-mix(in oklab, var(--color-primary) 10%, var(--color-surface) 90%)
          0%,
        transparent 60%
      ),
      var(--color-surface);
  }

  .home-grid__giving-copy {
    margin: 0;
    color: var(--color-text-muted);
    max-width: 60ch;
  }

  .home-grid__giving-cta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
  }

  .photo-montage {
    gap: var(--space-4);
    margin: 0;
    width: 100%;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-4);
    padding: clamp(var(--space-4), 3vw, var(--space-6));
    background: linear-gradient(
      160deg,
      color-mix(
          in oklab,
          var(--color-surface-muted) 92%,
          var(--color-primary) 8%
        )
        0%,
      var(--color-surface) 100%
    );
    box-shadow: var(--shadow-1);
  }

  .photo-montage__intro p {
    margin: 0;
    max-width: 50rem;
    color: var(--color-text-muted);
  }

  .photo-montage__intro :global(.section-heading__subtitle) {
    max-width: 52ch;
  }

  .photo-montage__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--space-4);
    width: 100%;
  }

  .photo-card {
    padding: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    background: var(--color-surface);
  }

  .photo-card__img {
    height: 225px;
    width: 100%;
    object-fit: cover;
    display: block;
  }

  .photo-card__caption {
    padding: var(--space-3);
  }

  .photo-card__caption h3 {
    margin: 0 0 0.35rem;
    font-size: var(--type-scale-h3-size);
    line-height: var(--type-scale-h3-line-height);
  }

  .photo-card__caption p {
    margin: 0;
    color: var(--color-text-muted);
  }

  @media (max-width: 1100px) {
    .home-grid {
      grid-template-columns: repeat(8, minmax(0, 1fr));
    }

    .home-grid__section--prayer,
    .home-grid__section--highlights {
      grid-column: 1 / -1;
    }

    .home-grid__section--giving {
      grid-column: 1 / 5;
    }

    .home-grid__section--photo {
      grid-column: 5 / -1;
    }

    .home-grid__section--events {
      grid-column: 1 / 5;
    }

    .home-grid__section--sermon {
      grid-column: 5 / -1;
    }
  }

  @media (max-width: 880px) {
    .home-grid__section--giving,
    .home-grid__section--photo,
    .home-grid__section--events,
    .home-grid__section--sermon {
      grid-column: 1 / -1;
    }
  }

  @media (max-width: 640px) {
    .home-grid {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }
  }

  @media (max-width: 720px) {
    .photo-card__img {
      height: 200px;
    }

    .home-grid {
      margin-top: var(--space-6);
      gap: var(--space-6);
    }

    .photo-montage {
      gap: var(--space-4);
      padding: var(--space-4);
    }

    .photo-montage__grid {
      gap: var(--space-3);
    }

    .home-grid__giving-cta {
      gap: var(--space-2);
    }
  }

  @media (max-width: 420px) {
    .home-grid {
      margin-top: var(--space-5);
      gap: var(--space-5);
    }
  }

  .index-hero__meta {
    margin-top: var(--space-4);
    display: grid;
    gap: var(--space-3);
  }

  .index-hero__meta-copy {
    margin: 0;
    max-width: 56ch;
  }

  .index-hero__meta :global(.btn) {
    justify-self: flex-start;
  }
</style>
